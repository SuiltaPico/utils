var fl=Object.defineProperty,vl=Object.defineProperties;var hl=Object.getOwnPropertyDescriptors;var Qt=Object.getOwnPropertySymbols;var ao=Object.prototype.hasOwnProperty,io=Object.prototype.propertyIsEnumerable;var lo=(e,t,n)=>t in e?fl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q=(e,t)=>{for(var n in t||(t={}))ao.call(t,n)&&lo(e,n,t[n]);if(Qt)for(var n of Qt(t))io.call(t,n)&&lo(e,n,t[n]);return e},Ve=(e,t)=>vl(e,hl(t));var uo=(e,t)=>{var n={};for(var o in e)ao.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Qt)for(var o of Qt(e))t.indexOf(o)<0&&io.call(e,o)&&(n[o]=e[o]);return n};import{u as To,Q as Be,a as ml,b as zn,c as ko,d as Oo,e as Vo,f as gl,g as pl,h as _t,i as ro,n as so,j as bl,k as Yt,l as at,m as Wt}from"./QInput.49990c1f.js";import{c as ct,a as P,h as z,b as Io,d as Po,r as A,w as $e,p as yl,g as _l,T as Sl,o as qn,e as Rn,f as wl,s as rt,n as El,i as Je,j as Cl,k as Dl,l as Fl,m as xl,q as Bl,t as Al,u as Sn,v as Bt,x as Tl,y as pt,z as kl,A as Ol,B as Vl,C as Ce,D as W,E as K,F as B,G as qe,H as C,I as Ut,J as Le,K as At,L as Tt,M as Re,N as Ne,O as co,P as Il}from"./index.155e7159.js";import{Q as Pl}from"./QChip.b483a0b9.js";import{u as Ml,a as Nl,Q as Ot,b as Gt}from"./QList.d3fdab3d.js";import{Q as nn}from"./QItemSection.9bb80c3b.js";import{r as On,Q as zl,a as ql}from"./QCardActions.53b9f1b0.js";import{u as Rl,v as fo,a as Hl,b as Ll,c as jl,r as vo,s as Xl,p as ho,d as $l}from"./position-engine.930b42de.js";import{u as Ql,a as Yl,b as Wl,c as Ul,d as Gl,e as Kl,f as Zl,r as Jl,g as mo,h as ea,i as ta,Q as Vn}from"./QDialog.e3efe1e4.js";import{u as na,a as oa,b as la,c as aa,Q as ia,d as ua}from"./QPage.86b8bf3d.js";import{Q as go}from"./QCheckbox.45cdbb08.js";import{Q as ra}from"./QInnerLoading.056fd351.js";var sa=ct({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=P(()=>{const o=["unelevated","outline","flat","rounded","push","stretch","glossy"].filter(l=>e[l]===!0).map(l=>`q-btn-group--${l}`).join(" ");return`q-btn-group row no-wrap${o.length>0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>z("div",{class:n.value},Io(t.default))}}),po=ct({name:"QBtnToggle",props:Ve(Q({},To),{modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:n}){const o=P(()=>e.options.find(c=>c.value===e.modelValue)!==void 0),l=P(()=>({type:"hidden",name:e.name,value:e.modelValue})),a=ml(l),u=P(()=>e.options.map((c,m)=>{const L=c,{attrs:w,value:_,slot:D}=L,y=uo(L,["attrs","value","slot"]);return{slot:D,props:Ve(Q(Q({key:m,onClick(ee){s(_,c,ee)},"aria-pressed":_===e.modelValue?"true":"false"},w),y),{outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,unelevated:e.unelevated,dense:e.dense,disable:e.disable===!0||y.disable===!0,color:_===e.modelValue?r(y,"toggleColor"):r(y,"color"),textColor:_===e.modelValue?r(y,"toggleTextColor"):r(y,"textColor"),noCaps:r(y,"noCaps")===!0,noWrap:r(y,"noWrap")===!0,size:r(y,"size"),padding:r(y,"padding"),ripple:r(y,"ripple"),stack:r(y,"stack")===!0,stretch:r(y,"stretch")===!0})}}));function s(c,m,w){e.readonly!==!0&&(e.modelValue===c?e.clearable===!0&&(n("update:modelValue",null,null),n("clear")):n("update:modelValue",c,m),n("click",w))}function r(c,m){return c[m]===void 0?e[m]:c[m]}function v(){const c=u.value.map(m=>z(Be,m.props,m.slot!==void 0?t[m.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&o.value===!0&&a(c,"push"),Po(t.default,c)}return()=>z(sa,{class:"q-btn-toggle",outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,stretch:e.stretch,unelevated:e.unelevated,glossy:e.glossy,spread:e.spread},v)}});const ca=z("div",{class:"q-space"});var bo=ct({name:"QSpace",setup(){return()=>ca}}),da=ct({name:"QField",inheritAttrs:!1,props:zn,emits:ko,setup(){return Oo(Vo())}}),fa=ct({name:"QMenu",inheritAttrs:!1,props:Ve(Q(Q(Q(Q({},Rl),Ql),na),Ml),{persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:fo},self:{type:String,validator:fo},offset:{type:Array,validator:Hl},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}}),emits:[...Yl,"click","escape-key"],setup(e,{slots:t,emit:n,attrs:o}){let l=null,a,u,s;const r=Rn(),{proxy:v}=r,{$q:c}=v,m=A(null),w=A(!1),_=P(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),D=oa(e,c),{registerTick:y,removeTick:L}=Wl(),{registerTimeout:ee,removeTimeout:q}=Ul(),{transition:U,transitionStyle:R}=Nl(e,w),{localScrollTarget:N,changeScrollEvent:Z,unconfigureScrollTarget:ye}=Ll(e,X),{anchorEl:te,canShow:oe}=jl({showing:w}),{hide:me}=Gl({showing:w,canShow:oe,handleShow:f,handleHide:b,hideOnRouteChange:_,processOnMount:!0}),{showPortal:ne,hidePortal:se,renderPortal:ge}=Kl(r,m,g),ce={anchorEl:te,innerRef:m,onClickOutside(d){if(e.persistent!==!0&&w.value===!0)return me(d),(d.type==="touchstart"||d.target.classList.contains("q-dialog__backdrop"))&&rt(d),!0}},Se=P(()=>ho(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),ae=P(()=>e.cover===!0?Se.value:ho(e.self||"top start",c.lang.rtl)),Ae=P(()=>(e.square===!0?" q-menu--square":"")+(D.value===!0?" q-menu--dark q-dark":"")),be=P(()=>e.autoClose===!0?{onClick:ie}:{}),ve=P(()=>w.value===!0&&e.persistent!==!0);$e(ve,d=>{d===!0?(ta(k),$l(ce)):(mo(k),vo(ce))});function Te(){gl(()=>{let d=m.value;d&&d.contains(document.activeElement)!==!0&&(d=d.querySelector("[autofocus], [data-autofocus]")||d,d.focus({preventScroll:!0}))})}function f(d){if(L(),q(),l=e.noRefocus===!1?document.activeElement:null,Zl(H),ne(),X(),a=void 0,d!==void 0&&(e.touchPosition||e.contextMenu)){const h=yl(d);if(h.left!==void 0){const{top:O,left:V}=te.value.getBoundingClientRect();a={left:h.left-V,top:h.top-O}}}u===void 0&&(u=$e(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,G)),e.noFocus!==!0&&document.activeElement.blur(),y(()=>{G(),e.noFocus!==!0&&Te()}),ee(()=>{c.platform.is.ios===!0&&(s=e.autoClose,m.value.click()),G(),ne(!0),n("show",d)},e.transitionDuration)}function b(d){L(),q(),se(),T(!0),l!==null&&(d===void 0||d.qClickOutside!==!0)&&(l.focus(),l=null),ee(()=>{se(!0),n("hide",d)},e.transitionDuration)}function T(d){a=void 0,u!==void 0&&(u(),u=void 0),(d===!0||w.value===!0)&&(Jl(H),ye(),vo(ce),mo(k)),d!==!0&&(l=null)}function X(){(te.value!==null||e.scrollTarget!==void 0)&&(N.value=_l(te.value,e.scrollTarget),Z(N.value,G))}function ie(d){s!==!0?(ea(v,d),n("click",d)):s=!1}function H(d){ve.value===!0&&e.noFocus!==!0&&wl(m.value,d.target)!==!0&&Te()}function k(d){n("escape-key"),me(d)}function G(){const d=m.value;d===null||te.value===null||Xl({el:d,offset:e.offset,anchorEl:te.value,anchorOrigin:Se.value,selfOrigin:ae.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function g(){return z(Sl,{name:U.value,appear:!0},()=>w.value===!0?z("div",Q(Ve(Q({},o),{ref:m,tabindex:-1,class:["q-menu q-position-engine scroll"+Ae.value,o.class],style:[o.style,R.value]}),be.value),Io(t.default)):null)}return qn(T),Object.assign(v,{focus:Te,updatePosition:G}),ge}});const Xe=1e3,va=["start","center","end","start-force","center-force","end-force"],Mo=Array.prototype.filter,ha=window.getComputedStyle(document.body).overflowAnchor===void 0?El:function(e,t){requestAnimationFrame(()=>{if(e===null)return;const n=e.children||[];Mo.call(n,l=>l.dataset&&l.dataset.qVsAnchor!==void 0).forEach(l=>{delete l.dataset.qVsAnchor});const o=n[t];o&&o.dataset&&(o.dataset.qVsAnchor="")})};function Et(e,t){return e+t}function wn(e,t,n,o,l,a,u,s){const r=e===window?document.scrollingElement||document.documentElement:e,v=l===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-u-s,scrollMaxSize:0,offsetStart:-u,offsetEnd:-s};if(l===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=r.scrollLeft,c.scrollViewSize+=r.clientWidth),c.scrollMaxSize=r.scrollWidth,a===!0&&(c.scrollStart=(On===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=r.scrollTop,c.scrollViewSize+=r.clientHeight),c.scrollMaxSize=r.scrollHeight),n!==null)for(let m=n.previousElementSibling;m!==null;m=m.previousElementSibling)m.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=m[v]);if(o!==null)for(let m=o.nextElementSibling;m!==null;m=m.nextElementSibling)m.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=m[v]);if(t!==e){const m=r.getBoundingClientRect(),w=t.getBoundingClientRect();l===!0?(c.offsetStart+=w.left-m.left,c.offsetEnd-=w.width):(c.offsetStart+=w.top-m.top,c.offsetEnd-=w.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function yo(e,t,n,o){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(o===!0&&(t=(On===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(o===!0&&(t=(On===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function kt(e,t,n,o){if(n>=o)return 0;const l=t.length,a=Math.floor(n/Xe),u=Math.floor((o-1)/Xe)+1;let s=e.slice(a,u).reduce(Et,0);return n%Xe!==0&&(s-=t.slice(a*Xe,n).reduce(Et,0)),o%Xe!==0&&o!==l&&(s-=t.slice(o,u*Xe).reduce(Et,0)),s}const ma={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ga=Q({virtualScrollHorizontal:Boolean,onVirtualScroll:Function},ma);function pa({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const l=Rn(),{props:a,emit:u,proxy:s}=l,{$q:r}=s;let v,c,m,w=[],_;const D=A(0),y=A(0),L=A({}),ee=A(null),q=A(null),U=A(null),R=A({from:0,to:0}),N=P(()=>a.tableColspan!==void 0?a.tableColspan:100);o===void 0&&(o=P(()=>a.virtualScrollItemSize));const Z=P(()=>o.value+";"+a.virtualScrollHorizontal),ye=P(()=>Z.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);$e(ye,()=>{ae()}),$e(Z,te);function te(){Se(c,!0)}function oe(f){Se(f===void 0?c:f)}function me(f,b){const T=t();if(T==null||T.nodeType===8)return;const X=wn(T,n(),ee.value,q.value,a.virtualScrollHorizontal,r.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);m!==X.scrollViewSize&&ae(X.scrollViewSize),se(T,X,Math.min(e.value-1,Math.max(0,parseInt(f,10)||0)),0,va.indexOf(b)>-1?b:c>-1&&f>c?"end":"start")}function ne(){const f=t();if(f==null||f.nodeType===8)return;const b=wn(f,n(),ee.value,q.value,a.virtualScrollHorizontal,r.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),T=e.value-1,X=b.scrollMaxSize-b.offsetStart-b.offsetEnd-y.value;if(v===b.scrollStart)return;if(b.scrollMaxSize<=0){se(f,b,0,0);return}m!==b.scrollViewSize&&ae(b.scrollViewSize),ge(R.value.from);const ie=Math.floor(b.scrollMaxSize-Math.max(b.scrollViewSize,b.offsetEnd)-Math.min(_[T],b.scrollViewSize/2));if(ie>0&&Math.ceil(b.scrollStart)>=ie){se(f,b,T,b.scrollMaxSize-b.offsetEnd-w.reduce(Et,0));return}let H=0,k=b.scrollStart-b.offsetStart,G=k;if(k<=X&&k+b.scrollViewSize>=D.value)k-=D.value,H=R.value.from,G=k;else for(let g=0;k>=w[g]&&H<T;g++)k-=w[g],H+=Xe;for(;k>0&&H<T;)k-=_[H],k>-b.scrollViewSize?(H++,G=k):G=_[H]+k;se(f,b,H,G)}function se(f,b,T,X,ie){const H=typeof ie=="string"&&ie.indexOf("-force")>-1,k=H===!0?ie.replace("-force",""):ie,G=k!==void 0?k:"start";let g=Math.max(0,T-L.value[G]),d=g+L.value.total;d>e.value&&(d=e.value,g=Math.max(0,d-L.value.total)),v=b.scrollStart;const h=g!==R.value.from||d!==R.value.to;if(h===!1&&k===void 0){be(T);return}const{activeElement:O}=document,V=U.value;h===!0&&V!==null&&V!==O&&V.contains(O)===!0&&(V.addEventListener("focusout",ce),setTimeout(()=>{V!==null&&V.removeEventListener("focusout",ce)})),ha(V,T-g);const de=k!==void 0?_.slice(g,T).reduce(Et,0):0;if(h===!0){const ke=d>=R.value.from&&g<=R.value.to?R.value.to:d;R.value={from:g,to:ke},D.value=kt(w,_,0,g),y.value=kt(w,_,d,e.value),requestAnimationFrame(()=>{R.value.to!==d&&v===b.scrollStart&&(R.value={from:R.value.from,to:d},y.value=kt(w,_,d,e.value))})}requestAnimationFrame(()=>{if(v!==b.scrollStart)return;h===!0&&ge(g);const ke=_.slice(g,T).reduce(Et,0),ze=ke+b.offsetStart+D.value,Qe=ze+_[T];let Ft=ze+X;if(k!==void 0){const mn=ke-de,Fe=b.scrollStart+mn;Ft=H!==!0&&Fe<ze&&Qe<Fe+b.scrollViewSize?Fe:k==="end"?Qe-b.scrollViewSize:ze-(k==="start"?0:Math.round((b.scrollViewSize-_[T])/2))}v=Ft,yo(f,Ft,a.virtualScrollHorizontal,r.lang.rtl),be(T)})}function ge(f){const b=U.value;if(b){const T=Mo.call(b.children,g=>g.classList&&g.classList.contains("q-virtual-scroll--skip")===!1),X=T.length,ie=a.virtualScrollHorizontal===!0?g=>g.getBoundingClientRect().width:g=>g.offsetHeight;let H=f,k,G;for(let g=0;g<X;){for(k=ie(T[g]),g++;g<X&&T[g].classList.contains("q-virtual-scroll--with-prev")===!0;)k+=ie(T[g]),g++;G=k-_[H],G!==0&&(_[H]+=G,w[Math.floor(H/Xe)]+=G),H++}}}function ce(){U.value!==null&&U.value!==void 0&&U.value.focus()}function Se(f,b){const T=1*o.value;(b===!0||Array.isArray(_)===!1)&&(_=[]);const X=_.length;_.length=e.value;for(let H=e.value-1;H>=X;H--)_[H]=T;const ie=Math.floor((e.value-1)/Xe);w=[];for(let H=0;H<=ie;H++){let k=0;const G=Math.min((H+1)*Xe,e.value);for(let g=H*Xe;g<G;g++)k+=_[g];w.push(k)}c=-1,v=void 0,D.value=kt(w,_,0,R.value.from),y.value=kt(w,_,R.value.to,e.value),f>=0?(ge(R.value.from),Je(()=>{me(f)})):ve()}function ae(f){if(f===void 0&&typeof window!="undefined"){const k=t();k!=null&&k.nodeType!==8&&(f=wn(k,n(),ee.value,q.value,a.virtualScrollHorizontal,r.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}m=f;const b=parseFloat(a.virtualScrollSliceRatioBefore)||0,T=parseFloat(a.virtualScrollSliceRatioAfter)||0,X=1+b+T,ie=f===void 0||f<=0?1:Math.ceil(f/o.value),H=Math.max(1,ie,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/X));L.value={total:Math.ceil(H*X),start:Math.ceil(H*b),center:Math.ceil(H*(.5+b)),end:Math.ceil(H*(1+b)),view:ie}}function Ae(f,b){const T=a.virtualScrollHorizontal===!0?"width":"height",X={["--q-virtual-scroll-item-"+T]:o.value+"px"};return[f==="tbody"?z(f,{class:"q-virtual-scroll__padding",key:"before",ref:ee},[z("tr",[z("td",{style:Q({[T]:`${D.value}px`},X),colspan:N.value})])]):z(f,{class:"q-virtual-scroll__padding",key:"before",ref:ee,style:Q({[T]:`${D.value}px`},X)}),z(f,{class:"q-virtual-scroll__content",key:"content",ref:U,tabindex:-1},b.flat()),f==="tbody"?z(f,{class:"q-virtual-scroll__padding",key:"after",ref:q},[z("tr",[z("td",{style:Q({[T]:`${y.value}px`},X),colspan:N.value})])]):z(f,{class:"q-virtual-scroll__padding",key:"after",ref:q,style:Q({[T]:`${y.value}px`},X)})]}function be(f){c!==f&&(a.onVirtualScroll!==void 0&&u("virtual-scroll",{index:f,from:R.value.from,to:R.value.to-1,direction:f<c?"decrease":"increase",ref:s}),c=f)}ae();const ve=Cl(ne,r.platform.is.ios===!0?120:35);Dl(()=>{ae()});let Te=!1;return Fl(()=>{Te=!0}),xl(()=>{if(Te!==!0)return;const f=t();v!==void 0&&f!==void 0&&f!==null&&f.nodeType!==8?yo(f,v,a.virtualScrollHorizontal,r.lang.rtl):me(c)}),qn(()=>{ve.cancel()}),Object.assign(s,{scrollTo:me,reset:te,refresh:oe}),{virtualScrollSliceRange:R,virtualScrollSliceSizeComputed:L,setVirtualScrollSize:ae,onVirtualScrollEvt:ve,localResetVirtualScroll:Se,padVirtualScroll:Ae,scrollTo:me,reset:te,refresh:oe}}const _o=e=>["add","add-unique","toggle"].includes(e),ba=".*+?^${}()|[]\\",ya=Object.keys(zn);var Kt=ct({name:"QSelect",inheritAttrs:!1,props:Ve(Q(Q(Q({},ga),To),zn),{modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:_o},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function}),emits:[...ko,"add","remove","input-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:t,emit:n}){const{proxy:o}=Rn(),{$q:l}=o,a=A(!1),u=A(!1),s=A(-1),r=A(""),v=A(!1),c=A(!1);let m,w,_,D,y,L,ee,q,U;const R=A(null),N=A(null),Z=A(null),ye=A(null),te=A(null),oe=pl(e),me=bl(Jn),ne=P(()=>Array.isArray(e.options)?e.options.length:0),se=P(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ge,virtualScrollSliceSizeComputed:ce,localResetVirtualScroll:Se,padVirtualScroll:ae,onVirtualScrollEvt:Ae,reset:be,scrollTo:ve,setVirtualScrollSize:Te}=pa({virtualScrollLength:ne,getVirtualScrollTarget:Jo,getVirtualScrollEl:Kn,virtualScrollItemSizeComputed:se}),f=Vo(),b=P(()=>{const i=e.mapOptions===!0&&e.multiple!==!0,E=e.modelValue!==void 0&&(e.modelValue!==null||i===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const S=e.mapOptions===!0&&w!==void 0?w:[],I=E.map(J=>Zo(J,S));return e.modelValue===null&&i===!0?I.filter(J=>J!==null):I}return E}),T=P(()=>{const i={};return ya.forEach(E=>{const S=e[E];S!==void 0&&(i[E]=S)}),i}),X=P(()=>e.optionsDark===null?f.isDark.value:e.optionsDark),ie=P(()=>ro(b.value)),H=P(()=>{let i="q-field__input q-placeholder col";return e.hideSelected===!0||b.value.length===0?[i,e.inputClass]:(i+=" q-field__input--padding",e.inputClass===void 0?i:[i,e.inputClass])}),k=P(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),G=P(()=>ne.value===0),g=P(()=>b.value.map(i=>Oe.value(i)).join(", ")),d=P(()=>e.optionsHtml===!0?()=>!0:i=>i!=null&&i.html===!0),h=P(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||b.value.some(d.value))),O=P(()=>f.focused.value===!0?e.tabindex:-1),V=P(()=>({tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-owns":`${f.targetUid.value}_lb`,"aria-controls":`${f.targetUid.value}_lb`})),de=P(()=>{const i={id:`${f.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return s.value>=0&&(i["aria-activedescendant"]=`${f.targetUid.value}_${s.value}`),i}),ke=P(()=>b.value.map((i,E)=>({index:E,opt:i,html:d.value(i),selected:!0,removeAtIndex:Ko,toggleOption:ot,tabindex:O.value}))),ze=P(()=>{if(ne.value===0)return[];const{from:i,to:E}=ge.value;return e.options.slice(i,E).map((S,I)=>{const J=dt.value(S)===!0,Y=i+I,fe={clickable:!0,active:!1,activeClass:mn.value,manualFocus:!0,focused:!1,disable:J,tabindex:-1,dense:e.optionsDense,dark:X.value,role:"option",id:`${f.targetUid.value}_${Y}`,onClick:()=>{ot(S)}};return J!==!0&&(bn(S)===!0&&(fe.active=!0),s.value===Y&&(fe.focused=!0),fe["aria-selected"]=fe.active===!0?"true":"false",l.platform.is.desktop===!0&&(fe.onMousemove=()=>{a.value===!0&&ft(Y)})),{index:Y,opt:S,html:d.value(S),label:Oe.value(S),selected:fe.active,focused:fe.focused,toggleOption:ot,setOptionIndex:ft,itemProps:fe}})}),Qe=P(()=>e.dropdownIcon!==void 0?e.dropdownIcon:l.iconSet.arrow.dropdown),Ft=P(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),mn=P(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Fe=P(()=>pn(e.optionValue,"value")),Oe=P(()=>pn(e.optionLabel,"label")),dt=P(()=>pn(e.optionDisable,"disable")),jt=P(()=>b.value.map(i=>Fe.value(i))),Go=P(()=>{const i={onInput:Jn,onChange:me,onKeydown:Gn,onKeyup:Wn,onKeypress:Un,onFocus:Qn,onClick(E){_===!0&&pt(E)}};return i.onCompositionstart=i.onCompositionupdate=i.onCompositionend=me,i});$e(b,i=>{w=i,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&f.innerLoading.value!==!0&&(u.value!==!0&&a.value!==!0||ie.value!==!0)&&(D!==!0&&gt(),(u.value===!0||a.value===!0)&&vt(""))},{immediate:!0}),$e(()=>e.fillInput,gt),$e(a,yn),$e(ne,dl);function Xn(i){return e.emitValue===!0?Fe.value(i):i}function gn(i){if(i>-1&&i<b.value.length)if(e.multiple===!0){const E=e.modelValue.slice();n("remove",{index:i,value:E.splice(i,1)[0]}),n("update:modelValue",E)}else n("update:modelValue",null)}function Ko(i){gn(i),f.focus()}function $n(i,E){const S=Xn(i);if(e.multiple!==!0){e.fillInput===!0&&xt(Oe.value(i),!0,!0),n("update:modelValue",S);return}if(b.value.length===0){n("add",{index:0,value:S}),n("update:modelValue",e.multiple===!0?[S]:S);return}if(E===!0&&bn(i)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const I=e.modelValue.slice();n("add",{index:I.length,value:S}),I.push(S),n("update:modelValue",I)}function ot(i,E){if(f.editable.value!==!0||i===void 0||dt.value(i)===!0)return;const S=Fe.value(i);if(e.multiple!==!0){E!==!0&&(xt(e.fillInput===!0?Oe.value(i):"",!0,!0),lt()),N.value!==null&&N.value.focus(),(b.value.length===0||Bt(Fe.value(b.value[0]),S)!==!0)&&n("update:modelValue",e.emitValue===!0?S:i);return}if((_!==!0||v.value===!0)&&f.focus(),Qn(),b.value.length===0){const Y=e.emitValue===!0?S:i;n("add",{index:0,value:Y}),n("update:modelValue",e.multiple===!0?[Y]:Y);return}const I=e.modelValue.slice(),J=jt.value.findIndex(Y=>Bt(Y,S));if(J>-1)n("remove",{index:J,value:I.splice(J,1)[0]});else{if(e.maxValues!==void 0&&I.length>=e.maxValues)return;const Y=e.emitValue===!0?S:i;n("add",{index:I.length,value:Y}),I.push(Y)}n("update:modelValue",I)}function ft(i){if(l.platform.is.desktop!==!0)return;const E=i>-1&&i<ne.value?i:-1;s.value!==E&&(s.value=E)}function Xt(i=1,E){if(a.value===!0){let S=s.value;do S=so(S+i,-1,ne.value-1);while(S!==-1&&S!==s.value&&dt.value(e.options[S])===!0);s.value!==S&&(ft(S),ve(S),E!==!0&&e.useInput===!0&&e.fillInput===!0&&$t(S>=0?Oe.value(e.options[S]):L))}}function Zo(i,E){const S=I=>Bt(Fe.value(I),i);return e.options.find(S)||E.find(S)||i}function pn(i,E){const S=i!==void 0?i:E;return typeof S=="function"?S:I=>I!==null&&typeof I=="object"&&S in I?I[S]:I}function bn(i){const E=Fe.value(i);return jt.value.find(S=>Bt(S,E))!==void 0}function Qn(i){e.useInput===!0&&N.value!==null&&(i===void 0||N.value===i.target&&i.target.value===g.value)&&N.value.select()}function Yn(i){Tl(i,27)===!0&&a.value===!0&&(pt(i),lt(),gt()),n("keyup",i)}function Wn(i){const{value:E}=i.target;if(i.keyCode!==void 0){Yn(i);return}if(i.target.value="",clearTimeout(m),gt(),typeof E=="string"&&E.length>0){const S=E.toLocaleLowerCase(),I=Y=>{const fe=e.options.find(Ee=>Y.value(Ee).toLocaleLowerCase()===S);return fe===void 0?!1:(b.value.indexOf(fe)===-1?ot(fe):lt(),!0)},J=Y=>{I(Fe)!==!0&&(I(Oe)===!0||Y===!0||vt(E,!0,()=>J(!0)))};J()}else f.clearValue(i)}function Un(i){n("keypress",i)}function Gn(i){if(n("keydown",i),kl(i)===!0)return;const E=r.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),S=i.shiftKey!==!0&&e.multiple!==!0&&(s.value>-1||E===!0);if(i.keyCode===27){Sn(i);return}if(i.keyCode===9&&S===!1){ht();return}if(i.target===void 0||i.target.id!==f.targetUid.value)return;if(i.keyCode===40&&f.innerLoading.value!==!0&&a.value===!1){rt(i),mt();return}if(i.keyCode===8&&e.hideSelected!==!0&&r.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?gn(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(i.keyCode===35||i.keyCode===36)&&(typeof r.value!="string"||r.value.length===0)&&(rt(i),s.value=-1,Xt(i.keyCode===36?1:-1,e.multiple)),(i.keyCode===33||i.keyCode===34)&&ce.value!==void 0&&(rt(i),s.value=Math.max(-1,Math.min(ne.value,s.value+(i.keyCode===33?-1:1)*ce.value.view)),Xt(i.keyCode===33?1:-1,e.multiple)),(i.keyCode===38||i.keyCode===40)&&(rt(i),Xt(i.keyCode===38?-1:1,e.multiple));const I=ne.value;if((q===void 0||U<Date.now())&&(q=""),I>0&&e.useInput!==!0&&i.key!==void 0&&i.key.length===1&&i.altKey===i.ctrlKey&&(i.keyCode!==32||q.length>0)){a.value!==!0&&mt(i);const J=i.key.toLocaleLowerCase(),Y=q.length===1&&q[0]===J;U=Date.now()+1500,Y===!1&&(rt(i),q+=J);const fe=new RegExp("^"+q.split("").map(_n=>ba.indexOf(_n)>-1?"\\"+_n:_n).join(".*"),"i");let Ee=s.value;if(Y===!0||Ee<0||fe.test(Oe.value(e.options[Ee]))!==!0)do Ee=so(Ee+1,-1,I-1);while(Ee!==s.value&&(dt.value(e.options[Ee])===!0||fe.test(Oe.value(e.options[Ee]))!==!0));s.value!==Ee&&Je(()=>{ft(Ee),ve(Ee),Ee>=0&&e.useInput===!0&&e.fillInput===!0&&$t(Oe.value(e.options[Ee]))});return}if(!(i.keyCode!==13&&(i.keyCode!==32||e.useInput===!0||q!=="")&&(i.keyCode!==9||S===!1))){if(i.keyCode!==9&&rt(i),s.value>-1&&s.value<I){ot(e.options[s.value]);return}if(E===!0){const J=(Y,fe)=>{if(fe){if(_o(fe)!==!0)return}else fe=e.newValueMode;if(Y==null)return;xt("",e.multiple!==!0,!0),(fe==="toggle"?ot:$n)(Y,fe==="add-unique"),e.multiple!==!0&&(N.value!==null&&N.value.focus(),lt())};if(e.onNewValue!==void 0?n("new-value",r.value,J):J(r.value),e.multiple!==!0)return}a.value===!0?ht():f.innerLoading.value!==!0&&mt()}}function Kn(){return _===!0?te.value:Z.value!==null&&Z.value.__qPortalInnerRef.value!==null?Z.value.__qPortalInnerRef.value:void 0}function Jo(){return Kn()}function el(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?ke.value.map(i=>t["selected-item"](i)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?ke.value.map((i,E)=>z(Pl,{key:"option-"+E,removable:f.editable.value===!0&&dt.value(i.opt)!==!0,dense:!0,textColor:e.color,tabindex:O.value,onRemove(){i.removeAtIndex(E)}},()=>z("span",{class:"ellipsis",[i.html===!0?"innerHTML":"textContent"]:Oe.value(i.opt)}))):[z("span",{[h.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:g.value})]}function Zn(){if(G.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:r.value}):void 0;const i=t.option!==void 0?t.option:S=>z(Ot,Q({key:S.index},S.itemProps),()=>z(nn,()=>z(zl,()=>z("span",{[S.html===!0?"innerHTML":"textContent"]:S.label}))));let E=ae("div",ze.value.map(i));return t["before-options"]!==void 0&&(E=t["before-options"]().concat(E)),Po(t["after-options"],E)}function tl(i,E){const S=E===!0?Q(Q({},V.value),f.splitAttrs.attributes.value):void 0,I=Q(Ve(Q({ref:E===!0?N:void 0,key:"i_t",class:H.value,style:e.inputStyle,value:r.value!==void 0?r.value:"",type:"search"},S),{id:E===!0?f.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":i!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0}),Go.value);return i!==!0&&_===!0&&(Array.isArray(I.class)===!0?I.class=[...I.class,"no-pointer-events"]:I.class+=" no-pointer-events"),z("input",I)}function Jn(i){clearTimeout(m),!(i&&i.target&&i.target.qComposing===!0)&&($t(i.target.value||""),D=!0,L=r.value,f.focused.value!==!0&&(_!==!0||v.value===!0)&&f.focus(),e.onFilter!==void 0&&(m=setTimeout(()=>{vt(r.value)},e.inputDebounce)))}function $t(i){r.value!==i&&(r.value=i,n("input-value",i))}function xt(i,E,S){D=S!==!0,e.useInput===!0&&($t(i),(E===!0||S!==!0)&&(L=i),E!==!0&&vt(i))}function vt(i,E,S){if(e.onFilter===void 0||E!==!0&&f.focused.value!==!0)return;f.innerLoading.value===!0?n("filter-abort"):(f.innerLoading.value=!0,c.value=!0),i!==""&&e.multiple!==!0&&b.value.length>0&&D!==!0&&i===Oe.value(b.value[0])&&(i="");const I=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);clearTimeout(y),y=I,n("filter",i,(J,Y)=>{(E===!0||f.focused.value===!0)&&y===I&&(clearTimeout(y),typeof J=="function"&&J(),c.value=!1,Je(()=>{f.innerLoading.value=!1,f.editable.value===!0&&(E===!0?a.value===!0&&lt():a.value===!0?yn(!0):a.value=!0),typeof Y=="function"&&Je(()=>{Y(o)}),typeof S=="function"&&Je(()=>{S(o)})}))},()=>{f.focused.value===!0&&y===I&&(clearTimeout(y),f.innerLoading.value=!1,c.value=!1),a.value===!0&&(a.value=!1)})}function nl(){return z(fa,Ve(Q({ref:Z,class:k.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&G.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:X.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ft.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0},de.value),{onScrollPassive:Ae,onBeforeShow:to,onBeforeHide:ol,onShow:ll}),Zn)}function ol(i){no(i),ht()}function ll(){Te()}function al(i){pt(i),N.value!==null&&N.value.focus(),v.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function il(i){pt(i),Je(()=>{v.value=!1})}function ul(){const i=[z(da,Ve(Q(Ve(Q({class:`col-auto ${f.fieldClass.value}`},T.value),{for:f.targetUid.value,dark:X.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:r.value.length>0}),f.splitAttrs.listeners.value),{onFocus:al,onBlur:il}),Ve(Q({},t),{rawControl:()=>f.getControl(!0),before:void 0,after:void 0}))];return a.value===!0&&i.push(z("div",Ve(Q({ref:te,class:k.value+" scroll",style:e.popupContentStyle},de.value),{onClick:Sn,onScrollPassive:Ae}),Zn())),z(Vn,{ref:ye,modelValue:u.value,position:e.useInput===!0?"top":void 0,transitionShow:ee,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:to,onBeforeHide:rl,onHide:sl,onShow:cl},()=>z("div",{class:"q-select__dialog"+(X.value===!0?" q-select__dialog--dark q-dark":"")+(v.value===!0?" q-select__dialog--focused":"")},i))}function rl(i){no(i),ye.value!==null&&ye.value.__updateRefocusTarget(f.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),f.focused.value=!1}function sl(i){lt(),f.focused.value===!1&&n("blur",i),gt()}function cl(){const i=document.activeElement;(i===null||i.id!==f.targetUid.value)&&N.value!==null&&N.value!==i&&N.value.focus(),Te()}function ht(){u.value!==!0&&(s.value=-1,a.value===!0&&(a.value=!1),f.focused.value===!1&&(clearTimeout(y),y=void 0,f.innerLoading.value===!0&&(n("filter-abort"),f.innerLoading.value=!1,c.value=!1)))}function mt(i){f.editable.value===!0&&(_===!0?(f.onControlFocusin(i),u.value=!0,Je(()=>{f.focus()})):f.focus(),e.onFilter!==void 0?vt(r.value):(G.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function lt(){u.value=!1,ht()}function gt(){e.useInput===!0&&xt(e.multiple!==!0&&e.fillInput===!0&&b.value.length>0&&Oe.value(b.value[0])||"",!0,!0)}function yn(i){let E=-1;if(i===!0){if(b.value.length>0){const S=Fe.value(b.value[0]);E=e.options.findIndex(I=>Bt(Fe.value(I),S))}Se(E)}ft(E)}function dl(){a.value===!0&&f.innerLoading.value===!1&&(be(),Je(()=>{a.value===!0&&f.innerLoading.value===!1&&yn(!0)}))}function eo(){u.value===!1&&Z.value!==null&&Z.value.updatePosition()}function to(i){i!==void 0&&pt(i),n("popup-show",i),f.hasPopupOpen=!0,f.onControlFocusin(i)}function no(i){i!==void 0&&pt(i),n("popup-hide",i),f.hasPopupOpen=!1,f.onControlFocusout(i)}function oo(){_=l.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||G.value===!1:!0),ee=l.platform.is.ios===!0&&_===!0&&e.useInput===!0?"fade":e.transitionShow}return Bl(oo),Al(eo),oo(),qn(()=>{clearTimeout(m)}),Object.assign(o,{showPopup:mt,hidePopup:lt,removeAtIndex:gn,add:$n,toggleOption:ot,getOptionIndex:()=>s.value,setOptionIndex:ft,moveOptionSelection:Xt,filter:vt,updateMenuPosition:eo,updateInputValue:xt,isOptionSelected:bn,getEmittingOptionValue:Xn,isOptionDisabled:(...i)=>dt.value.apply(null,i)===!0,getOptionValue:(...i)=>Fe.value.apply(null,i),getOptionLabel:(...i)=>Oe.value.apply(null,i)}),Object.assign(f,{innerValue:b,fieldClass:P(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:R,targetRef:N,hasValue:ie,showPopup:mt,floatingLabel:P(()=>(e.hideSelected===!0?r.value.length>0:ie.value===!0)||ro(e.displayValue)),getControlChild:()=>{if(f.editable.value!==!1&&(u.value===!0||G.value!==!0||t["no-option"]!==void 0))return _===!0?ul():nl();f.hasPopupOpen===!0&&(f.hasPopupOpen=!1)},controlEvents:{onFocusin(i){f.onControlFocusin(i)},onFocusout(i){f.onControlFocusout(i,()=>{gt(),ht()})},onClick(i){if(Sn(i),_!==!0&&a.value===!0){ht(),N.value!==null&&N.value.focus();return}mt(i)}},getControl:i=>{const E=el(),S=i===!0||u.value!==!0||_!==!0;if(e.useInput===!0)E.push(tl(i,S));else if(f.editable.value===!0){const J=S===!0?V.value:void 0;E.push(z("input",Ve(Q({ref:S===!0?N:void 0,key:"d_t",class:"q-select__focus-target",id:S===!0?f.targetUid.value:void 0,readonly:!0},J),{onKeydown:Gn,onKeyup:Yn,onKeypress:Un}))),S===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&E.push(z("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:Wn}))}if(oe.value!==void 0&&e.disable!==!0&&jt.value.length>0){const J=jt.value.map(Y=>z("option",{value:Y,selected:!0}));E.push(z("select",{class:"hidden",name:oe.value,multiple:e.multiple},J))}const I=e.useInput===!0||S!==!0?void 0:f.splitAttrs.attributes.value;return z("div",Q({class:"q-field__native row items-center"},I),E)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[z(_t,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Qe.value})]:null}),Oo(f)}});const _a=[z("rect",{x:"25",y:"25",width:"50",height:"50",fill:"none","stroke-width":"4",stroke:"currentColor"},[z("animateTransform",{id:"spinnerBox",attributeName:"transform",type:"rotate",from:"0 50 50",to:"180 50 50",dur:"0.5s",begin:"rectBox.end"})]),z("rect",{x:"27",y:"27",width:"46",height:"50",fill:"currentColor"},[z("animate",{id:"rectBox",attributeName:"height",begin:"0s;spinnerBox.end",dur:"1.3s",from:"50",to:"0",fill:"freeze"})])];var Sa=ct({name:"QSpinnerBox",props:la,setup(e){const{cSize:t,classes:n}=aa(e);return()=>z("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},_a)}});/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?So(Object(n),!0).forEach(function(o){wa(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function on(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?on=function(t){return typeof t}:on=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(e)}function wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ke.apply(this,arguments)}function Ea(e,t){if(e==null)return{};var n={},o=Object.keys(e),l,a;for(a=0;a<o.length;a++)l=o[a],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Ca(e,t){if(e==null)return{};var n=Ea(e,t),o,l;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)o=a[l],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(n[o]=e[o]))}return n}var Da="1.15.0";function Ge(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var Ze=Ge(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ht=Ge(/Edge/i),wo=Ge(/firefox/i),Mt=Ge(/safari/i)&&!Ge(/chrome/i)&&!Ge(/android/i),No=Ge(/iP(ad|od|hone)/i),zo=Ge(/chrome/i)&&Ge(/android/i),qo={capture:!1,passive:!1};function $(e,t,n){e.addEventListener(t,n,!Ze&&qo)}function j(e,t,n){e.removeEventListener(t,n,!Ze&&qo)}function sn(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Fa(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ye(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&sn(e,t):sn(e,t))||o&&e===n)return e;if(e===n)break}while(e=Fa(e))}return null}var Eo=/\s+/g;function Ie(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Eo," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Eo," ")}}function F(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function Ct(e,t){var n="";if(typeof e=="string")n=e;else do{var o=F(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(n)}function Ro(e,t,n){if(e){var o=e.getElementsByTagName(t),l=0,a=o.length;if(n)for(;l<a;l++)n(o[l],l);return o}return[]}function We(){var e=document.scrollingElement;return e||document.documentElement}function pe(e,t,n,o,l){if(!(!e.getBoundingClientRect&&e!==window)){var a,u,s,r,v,c,m;if(e!==window&&e.parentNode&&e!==We()?(a=e.getBoundingClientRect(),u=a.top,s=a.left,r=a.bottom,v=a.right,c=a.height,m=a.width):(u=0,s=0,r=window.innerHeight,v=window.innerWidth,c=window.innerHeight,m=window.innerWidth),(t||n)&&e!==window&&(l=l||e.parentNode,!Ze))do if(l&&l.getBoundingClientRect&&(F(l,"transform")!=="none"||n&&F(l,"position")!=="static")){var w=l.getBoundingClientRect();u-=w.top+parseInt(F(l,"border-top-width")),s-=w.left+parseInt(F(l,"border-left-width")),r=u+a.height,v=s+a.width;break}while(l=l.parentNode);if(o&&e!==window){var _=Ct(l||e),D=_&&_.a,y=_&&_.d;_&&(u/=y,s/=D,m/=D,c/=y,r=u+c,v=s+m)}return{top:u,left:s,bottom:r,right:v,width:m,height:c}}}function Co(e,t,n){for(var o=nt(e,!0),l=pe(e)[t];o;){var a=pe(o)[n],u=void 0;if(n==="top"||n==="left"?u=l>=a:u=l<=a,!u)return o;if(o===We())break;o=nt(o,!1)}return!1}function Dt(e,t,n,o){for(var l=0,a=0,u=e.children;a<u.length;){if(u[a].style.display!=="none"&&u[a]!==x.ghost&&(o||u[a]!==x.dragged)&&Ye(u[a],n.draggable,e,!1)){if(l===t)return u[a];l++}a++}return null}function Hn(e,t){for(var n=e.lastElementChild;n&&(n===x.ghost||F(n,"display")==="none"||t&&!sn(n,t));)n=n.previousElementSibling;return n||null}function He(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==x.clone&&(!t||sn(e,t))&&n++;return n}function Do(e){var t=0,n=0,o=We();if(e)do{var l=Ct(e),a=l.a,u=l.d;t+=e.scrollLeft*a,n+=e.scrollTop*u}while(e!==o&&(e=e.parentNode));return[t,n]}function xa(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function nt(e,t){if(!e||!e.getBoundingClientRect)return We();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var l=F(n);if(n.clientWidth<n.scrollWidth&&(l.overflowX=="auto"||l.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(l.overflowY=="auto"||l.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return We();if(o||t)return n;o=!0}}while(n=n.parentNode);return We()}function Ba(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function En(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Nt;function Ho(e,t){return function(){if(!Nt){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),Nt=setTimeout(function(){Nt=void 0},t)}}}function Aa(){clearTimeout(Nt),Nt=void 0}function Lo(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function jo(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Me="Sortable"+new Date().getTime();function Ta(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(l){if(!(F(l,"display")==="none"||l===x.ghost)){e.push({target:l,rect:pe(l)});var a=Ue({},e[e.length-1].rect);if(l.thisAnimationDuration){var u=Ct(l,!0);u&&(a.top-=u.f,a.left-=u.e)}l.fromRect=a}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(xa(e,{target:o}),1)},animateAll:function(o){var l=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var a=!1,u=0;e.forEach(function(s){var r=0,v=s.target,c=v.fromRect,m=pe(v),w=v.prevFromRect,_=v.prevToRect,D=s.rect,y=Ct(v,!0);y&&(m.top-=y.f,m.left-=y.e),v.toRect=m,v.thisAnimationDuration&&En(w,m)&&!En(c,m)&&(D.top-m.top)/(D.left-m.left)===(c.top-m.top)/(c.left-m.left)&&(r=Oa(D,w,_,l.options)),En(m,c)||(v.prevFromRect=c,v.prevToRect=m,r||(r=l.options.animation),l.animate(v,D,m,r)),r&&(a=!0,u=Math.max(u,r),clearTimeout(v.animationResetTimer),v.animationResetTimer=setTimeout(function(){v.animationTime=0,v.prevFromRect=null,v.fromRect=null,v.prevToRect=null,v.thisAnimationDuration=null},r),v.thisAnimationDuration=r)}),clearTimeout(t),a?t=setTimeout(function(){typeof o=="function"&&o()},u):typeof o=="function"&&o(),e=[]},animate:function(o,l,a,u){if(u){F(o,"transition",""),F(o,"transform","");var s=Ct(this.el),r=s&&s.a,v=s&&s.d,c=(l.left-a.left)/(r||1),m=(l.top-a.top)/(v||1);o.animatingX=!!c,o.animatingY=!!m,F(o,"transform","translate3d("+c+"px,"+m+"px,0)"),this.forRepaintDummy=ka(o),F(o,"transition","transform "+u+"ms"+(this.options.easing?" "+this.options.easing:"")),F(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){F(o,"transition",""),F(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},u)}}}}function ka(e){return e.offsetWidth}function Oa(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var bt=[],Cn={initializeByDefault:!0},Lt={mount:function(t){for(var n in Cn)Cn.hasOwnProperty(n)&&!(n in t)&&(t[n]=Cn[n]);bt.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),bt.push(t)},pluginEvent:function(t,n,o){var l=this;this.eventCanceled=!1,o.cancel=function(){l.eventCanceled=!0};var a=t+"Global";bt.forEach(function(u){!n[u.pluginName]||(n[u.pluginName][a]&&n[u.pluginName][a](Ue({sortable:n},o)),n.options[u.pluginName]&&n[u.pluginName][t]&&n[u.pluginName][t](Ue({sortable:n},o)))})},initializePlugins:function(t,n,o,l){bt.forEach(function(s){var r=s.pluginName;if(!(!t.options[r]&&!s.initializeByDefault)){var v=new s(t,n,t.options);v.sortable=t,v.options=t.options,t[r]=v,Ke(o,v.defaults)}});for(var a in t.options)if(!!t.options.hasOwnProperty(a)){var u=this.modifyOption(t,a,t.options[a]);typeof u!="undefined"&&(t.options[a]=u)}},getEventProperties:function(t,n){var o={};return bt.forEach(function(l){typeof l.eventProperties=="function"&&Ke(o,l.eventProperties.call(n[l.pluginName],t))}),o},modifyOption:function(t,n,o){var l;return bt.forEach(function(a){!t[a.pluginName]||a.optionListeners&&typeof a.optionListeners[n]=="function"&&(l=a.optionListeners[n].call(t[a.pluginName],o))}),l}};function Va(e){var t=e.sortable,n=e.rootEl,o=e.name,l=e.targetEl,a=e.cloneEl,u=e.toEl,s=e.fromEl,r=e.oldIndex,v=e.newIndex,c=e.oldDraggableIndex,m=e.newDraggableIndex,w=e.originalEvent,_=e.putSortable,D=e.extraEventProperties;if(t=t||n&&n[Me],!!t){var y,L=t.options,ee="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Ze&&!Ht?y=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(o,!0,!0)),y.to=u||n,y.from=s||n,y.item=l||n,y.clone=a,y.oldIndex=r,y.newIndex=v,y.oldDraggableIndex=c,y.newDraggableIndex=m,y.originalEvent=w,y.pullMode=_?_.lastPutMode:void 0;var q=Ue(Ue({},D),Lt.getEventProperties(o,t));for(var U in q)y[U]=q[U];n&&n.dispatchEvent(y),L[ee]&&L[ee].call(t,y)}}var Ia=["evt"],xe=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=o.evt,a=Ca(o,Ia);Lt.pluginEvent.bind(x)(t,n,Ue({dragEl:p,parentEl:re,ghostEl:M,rootEl:le,nextEl:st,lastDownEl:ln,cloneEl:ue,cloneHidden:tt,dragStarted:Vt,putSortable:_e,activeSortable:x.active,originalEvent:l,oldIndex:wt,oldDraggableIndex:zt,newIndex:Pe,newDraggableIndex:et,hideGhostForTarget:Yo,unhideGhostForTarget:Wo,cloneNowHidden:function(){tt=!0},cloneNowShown:function(){tt=!1},dispatchSortableEvent:function(s){De({sortable:n,name:s,originalEvent:l})}},a))};function De(e){Va(Ue({putSortable:_e,cloneEl:ue,targetEl:p,rootEl:le,oldIndex:wt,oldDraggableIndex:zt,newIndex:Pe,newDraggableIndex:et},e))}var p,re,M,le,st,ln,ue,tt,wt,Pe,zt,et,Zt,_e,St=!1,cn=!1,dn=[],it,je,Dn,Fn,Fo,xo,Vt,yt,qt,Rt=!1,Jt=!1,an,we,xn=[],In=!1,fn=[],hn=typeof document!="undefined",en=No,Bo=Ht||Ze?"cssFloat":"float",Pa=hn&&!zo&&!No&&"draggable"in document.createElement("div"),Xo=function(){if(!!hn){if(Ze)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),$o=function(t,n){var o=F(t),l=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),a=Dt(t,0,n),u=Dt(t,1,n),s=a&&F(a),r=u&&F(u),v=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+pe(a).width,c=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+pe(u).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&s.float&&s.float!=="none"){var m=s.float==="left"?"left":"right";return u&&(r.clear==="both"||r.clear===m)?"vertical":"horizontal"}return a&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||v>=l&&o[Bo]==="none"||u&&o[Bo]==="none"&&v+c>l)?"vertical":"horizontal"},Ma=function(t,n,o){var l=o?t.left:t.top,a=o?t.right:t.bottom,u=o?t.width:t.height,s=o?n.left:n.top,r=o?n.right:n.bottom,v=o?n.width:n.height;return l===s||a===r||l+u/2===s+v/2},Na=function(t,n){var o;return dn.some(function(l){var a=l[Me].options.emptyInsertThreshold;if(!(!a||Hn(l))){var u=pe(l),s=t>=u.left-a&&t<=u.right+a,r=n>=u.top-a&&n<=u.bottom+a;if(s&&r)return o=l}}),o},Qo=function(t){function n(a,u){return function(s,r,v,c){var m=s.options.group.name&&r.options.group.name&&s.options.group.name===r.options.group.name;if(a==null&&(u||m))return!0;if(a==null||a===!1)return!1;if(u&&a==="clone")return a;if(typeof a=="function")return n(a(s,r,v,c),u)(s,r,v,c);var w=(u?s:r).options.group.name;return a===!0||typeof a=="string"&&a===w||a.join&&a.indexOf(w)>-1}}var o={},l=t.group;(!l||on(l)!="object")&&(l={name:l}),o.name=l.name,o.checkPull=n(l.pull,!0),o.checkPut=n(l.put),o.revertClone=l.revertClone,t.group=o},Yo=function(){!Xo&&M&&F(M,"display","none")},Wo=function(){!Xo&&M&&F(M,"display","")};hn&&!zo&&document.addEventListener("click",function(e){if(cn)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),cn=!1,!1},!0);var ut=function(t){if(p){t=t.touches?t.touches[0]:t;var n=Na(t.clientX,t.clientY);if(n){var o={};for(var l in t)t.hasOwnProperty(l)&&(o[l]=t[l]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[Me]._onDragOver(o)}}},za=function(t){p&&p.parentNode[Me]._isOutsideThisEl(t.target)};function x(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Ke({},t),e[Me]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return $o(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(u,s){u.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:x.supportPointer!==!1&&"PointerEvent"in window&&!Mt,emptyInsertThreshold:5};Lt.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);Qo(t);for(var l in this)l.charAt(0)==="_"&&typeof this[l]=="function"&&(this[l]=this[l].bind(this));this.nativeDraggable=t.forceFallback?!1:Pa,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?$(e,"pointerdown",this._onTapStart):($(e,"mousedown",this._onTapStart),$(e,"touchstart",this._onTapStart)),this.nativeDraggable&&($(e,"dragover",this),$(e,"dragenter",this)),dn.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ke(this,Ta())}x.prototype={constructor:x,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(yt=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,p):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,o=this.el,l=this.options,a=l.preventOnFilter,u=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,r=(s||t).target,v=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||r,c=l.filter;if(Qa(o),!p&&!(/mousedown|pointerdown/.test(u)&&t.button!==0||l.disabled)&&!v.isContentEditable&&!(!this.nativeDraggable&&Mt&&r&&r.tagName.toUpperCase()==="SELECT")&&(r=Ye(r,l.draggable,o,!1),!(r&&r.animated)&&ln!==r)){if(wt=He(r),zt=He(r,l.draggable),typeof c=="function"){if(c.call(this,t,r,this)){De({sortable:n,rootEl:v,name:"filter",targetEl:r,toEl:o,fromEl:o}),xe("filter",n,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(m){if(m=Ye(v,m.trim(),o,!1),m)return De({sortable:n,rootEl:m,name:"filter",targetEl:r,fromEl:o,toEl:o}),xe("filter",n,{evt:t}),!0}),c)){a&&t.cancelable&&t.preventDefault();return}l.handle&&!Ye(v,l.handle,o,!1)||this._prepareDragStart(t,s,r)}}},_prepareDragStart:function(t,n,o){var l=this,a=l.el,u=l.options,s=a.ownerDocument,r;if(o&&!p&&o.parentNode===a){var v=pe(o);if(le=a,p=o,re=p.parentNode,st=p.nextSibling,ln=o,Zt=u.group,x.dragged=p,it={target:p,clientX:(n||t).clientX,clientY:(n||t).clientY},Fo=it.clientX-v.left,xo=it.clientY-v.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,p.style["will-change"]="all",r=function(){if(xe("delayEnded",l,{evt:t}),x.eventCanceled){l._onDrop();return}l._disableDelayedDragEvents(),!wo&&l.nativeDraggable&&(p.draggable=!0),l._triggerDragStart(t,n),De({sortable:l,name:"choose",originalEvent:t}),Ie(p,u.chosenClass,!0)},u.ignore.split(",").forEach(function(c){Ro(p,c.trim(),Bn)}),$(s,"dragover",ut),$(s,"mousemove",ut),$(s,"touchmove",ut),$(s,"mouseup",l._onDrop),$(s,"touchend",l._onDrop),$(s,"touchcancel",l._onDrop),wo&&this.nativeDraggable&&(this.options.touchStartThreshold=4,p.draggable=!0),xe("delayStart",this,{evt:t}),u.delay&&(!u.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ht||Ze))){if(x.eventCanceled){this._onDrop();return}$(s,"mouseup",l._disableDelayedDrag),$(s,"touchend",l._disableDelayedDrag),$(s,"touchcancel",l._disableDelayedDrag),$(s,"mousemove",l._delayedDragTouchMoveHandler),$(s,"touchmove",l._delayedDragTouchMoveHandler),u.supportPointer&&$(s,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(r,u.delay)}else r()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){p&&Bn(p),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;j(t,"mouseup",this._disableDelayedDrag),j(t,"touchend",this._disableDelayedDrag),j(t,"touchcancel",this._disableDelayedDrag),j(t,"mousemove",this._delayedDragTouchMoveHandler),j(t,"touchmove",this._delayedDragTouchMoveHandler),j(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?$(document,"pointermove",this._onTouchMove):n?$(document,"touchmove",this._onTouchMove):$(document,"mousemove",this._onTouchMove):($(p,"dragend",this),$(le,"dragstart",this._onDragStart));try{document.selection?un(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(St=!1,le&&p){xe("dragStarted",this,{evt:n}),this.nativeDraggable&&$(document,"dragover",za);var o=this.options;!t&&Ie(p,o.dragClass,!1),Ie(p,o.ghostClass,!0),x.active=this,t&&this._appendGhost(),De({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(je){this._lastX=je.clientX,this._lastY=je.clientY,Yo();for(var t=document.elementFromPoint(je.clientX,je.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(je.clientX,je.clientY),t!==n);)n=t;if(p.parentNode[Me]._isOutsideThisEl(t),n)do{if(n[Me]){var o=void 0;if(o=n[Me]._onDragOver({clientX:je.clientX,clientY:je.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);Wo()}},_onTouchMove:function(t){if(it){var n=this.options,o=n.fallbackTolerance,l=n.fallbackOffset,a=t.touches?t.touches[0]:t,u=M&&Ct(M,!0),s=M&&u&&u.a,r=M&&u&&u.d,v=en&&we&&Do(we),c=(a.clientX-it.clientX+l.x)/(s||1)+(v?v[0]-xn[0]:0)/(s||1),m=(a.clientY-it.clientY+l.y)/(r||1)+(v?v[1]-xn[1]:0)/(r||1);if(!x.active&&!St){if(o&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(M){u?(u.e+=c-(Dn||0),u.f+=m-(Fn||0)):u={a:1,b:0,c:0,d:1,e:c,f:m};var w="matrix(".concat(u.a,",").concat(u.b,",").concat(u.c,",").concat(u.d,",").concat(u.e,",").concat(u.f,")");F(M,"webkitTransform",w),F(M,"mozTransform",w),F(M,"msTransform",w),F(M,"transform",w),Dn=c,Fn=m,je=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!M){var t=this.options.fallbackOnBody?document.body:le,n=pe(p,!0,en,!0,t),o=this.options;if(en){for(we=t;F(we,"position")==="static"&&F(we,"transform")==="none"&&we!==document;)we=we.parentNode;we!==document.body&&we!==document.documentElement?(we===document&&(we=We()),n.top+=we.scrollTop,n.left+=we.scrollLeft):we=We(),xn=Do(we)}M=p.cloneNode(!0),Ie(M,o.ghostClass,!1),Ie(M,o.fallbackClass,!0),Ie(M,o.dragClass,!0),F(M,"transition",""),F(M,"transform",""),F(M,"box-sizing","border-box"),F(M,"margin",0),F(M,"top",n.top),F(M,"left",n.left),F(M,"width",n.width),F(M,"height",n.height),F(M,"opacity","0.8"),F(M,"position",en?"absolute":"fixed"),F(M,"zIndex","100000"),F(M,"pointerEvents","none"),x.ghost=M,t.appendChild(M),F(M,"transform-origin",Fo/parseInt(M.style.width)*100+"% "+xo/parseInt(M.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,l=t.dataTransfer,a=o.options;if(xe("dragStart",this,{evt:t}),x.eventCanceled){this._onDrop();return}xe("setupClone",this),x.eventCanceled||(ue=jo(p),ue.removeAttribute("id"),ue.draggable=!1,ue.style["will-change"]="",this._hideClone(),Ie(ue,this.options.chosenClass,!1),x.clone=ue),o.cloneId=un(function(){xe("clone",o),!x.eventCanceled&&(o.options.removeCloneOnHide||le.insertBefore(ue,p),o._hideClone(),De({sortable:o,name:"clone"}))}),!n&&Ie(p,a.dragClass,!0),n?(cn=!0,o._loopId=setInterval(o._emulateDragOver,50)):(j(document,"mouseup",o._onDrop),j(document,"touchend",o._onDrop),j(document,"touchcancel",o._onDrop),l&&(l.effectAllowed="move",a.setData&&a.setData.call(o,l,p)),$(document,"drop",o),F(p,"transform","translateZ(0)")),St=!0,o._dragStartId=un(o._dragStarted.bind(o,n,t)),$(document,"selectstart",o),Vt=!0,Mt&&F(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,l,a,u,s=this.options,r=s.group,v=x.active,c=Zt===r,m=s.sort,w=_e||v,_,D=this,y=!1;if(In)return;function L(be,ve){xe(be,D,Ue({evt:t,isOwner:c,axis:_?"vertical":"horizontal",revert:u,dragRect:l,targetRect:a,canSort:m,fromSortable:w,target:o,completed:q,onMove:function(f,b){return tn(le,n,p,l,f,pe(f),t,b)},changed:U},ve))}function ee(){L("dragOverAnimationCapture"),D.captureAnimationState(),D!==w&&w.captureAnimationState()}function q(be){return L("dragOverCompleted",{insertion:be}),be&&(c?v._hideClone():v._showClone(D),D!==w&&(Ie(p,_e?_e.options.ghostClass:v.options.ghostClass,!1),Ie(p,s.ghostClass,!0)),_e!==D&&D!==x.active?_e=D:D===x.active&&_e&&(_e=null),w===D&&(D._ignoreWhileAnimating=o),D.animateAll(function(){L("dragOverAnimationComplete"),D._ignoreWhileAnimating=null}),D!==w&&(w.animateAll(),w._ignoreWhileAnimating=null)),(o===p&&!p.animated||o===n&&!o.animated)&&(yt=null),!s.dragoverBubble&&!t.rootEl&&o!==document&&(p.parentNode[Me]._isOutsideThisEl(t.target),!be&&ut(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),y=!0}function U(){Pe=He(p),et=He(p,s.draggable),De({sortable:D,name:"change",toEl:n,newIndex:Pe,newDraggableIndex:et,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=Ye(o,s.draggable,n,!0),L("dragOver"),x.eventCanceled)return y;if(p.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||D._ignoreWhileAnimating===o)return q(!1);if(cn=!1,v&&!s.disabled&&(c?m||(u=re!==le):_e===this||(this.lastPutMode=Zt.checkPull(this,v,p,t))&&r.checkPut(this,v,p,t))){if(_=this._getDirection(t,o)==="vertical",l=pe(p),L("dragOverValid"),x.eventCanceled)return y;if(u)return re=le,ee(),this._hideClone(),L("revert"),x.eventCanceled||(st?le.insertBefore(p,st):le.appendChild(p)),q(!0);var R=Hn(n,s.draggable);if(!R||La(t,_,this)&&!R.animated){if(R===p)return q(!1);if(R&&n===t.target&&(o=R),o&&(a=pe(o)),tn(le,n,p,l,o,a,t,!!o)!==!1)return ee(),R&&R.nextSibling?n.insertBefore(p,R.nextSibling):n.appendChild(p),re=n,U(),q(!0)}else if(R&&Ha(t,_,this)){var N=Dt(n,0,s,!0);if(N===p)return q(!1);if(o=N,a=pe(o),tn(le,n,p,l,o,a,t,!1)!==!1)return ee(),n.insertBefore(p,N),re=n,U(),q(!0)}else if(o.parentNode===n){a=pe(o);var Z=0,ye,te=p.parentNode!==n,oe=!Ma(p.animated&&p.toRect||l,o.animated&&o.toRect||a,_),me=_?"top":"left",ne=Co(o,"top","top")||Co(p,"top","top"),se=ne?ne.scrollTop:void 0;yt!==o&&(ye=a[me],Rt=!1,Jt=!oe&&s.invertSwap||te),Z=ja(t,o,a,_,oe?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Jt,yt===o);var ge;if(Z!==0){var ce=He(p);do ce-=Z,ge=re.children[ce];while(ge&&(F(ge,"display")==="none"||ge===M))}if(Z===0||ge===o)return q(!1);yt=o,qt=Z;var Se=o.nextElementSibling,ae=!1;ae=Z===1;var Ae=tn(le,n,p,l,o,a,t,ae);if(Ae!==!1)return(Ae===1||Ae===-1)&&(ae=Ae===1),In=!0,setTimeout(Ra,30),ee(),ae&&!Se?n.appendChild(p):o.parentNode.insertBefore(p,ae?Se:o),ne&&Lo(ne,0,se-ne.scrollTop),re=p.parentNode,ye!==void 0&&!Jt&&(an=Math.abs(ye-pe(o)[me])),U(),q(!0)}if(n.contains(p))return q(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){j(document,"mousemove",this._onTouchMove),j(document,"touchmove",this._onTouchMove),j(document,"pointermove",this._onTouchMove),j(document,"dragover",ut),j(document,"mousemove",ut),j(document,"touchmove",ut)},_offUpEvents:function(){var t=this.el.ownerDocument;j(t,"mouseup",this._onDrop),j(t,"touchend",this._onDrop),j(t,"pointerup",this._onDrop),j(t,"touchcancel",this._onDrop),j(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(Pe=He(p),et=He(p,o.draggable),xe("drop",this,{evt:t}),re=p&&p.parentNode,Pe=He(p),et=He(p,o.draggable),x.eventCanceled){this._nulling();return}St=!1,Jt=!1,Rt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Pn(this.cloneId),Pn(this._dragStartId),this.nativeDraggable&&(j(document,"drop",this),j(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Mt&&F(document.body,"user-select",""),F(p,"transform",""),t&&(Vt&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),M&&M.parentNode&&M.parentNode.removeChild(M),(le===re||_e&&_e.lastPutMode!=="clone")&&ue&&ue.parentNode&&ue.parentNode.removeChild(ue),p&&(this.nativeDraggable&&j(p,"dragend",this),Bn(p),p.style["will-change"]="",Vt&&!St&&Ie(p,_e?_e.options.ghostClass:this.options.ghostClass,!1),Ie(p,this.options.chosenClass,!1),De({sortable:this,name:"unchoose",toEl:re,newIndex:null,newDraggableIndex:null,originalEvent:t}),le!==re?(Pe>=0&&(De({rootEl:re,name:"add",toEl:re,fromEl:le,originalEvent:t}),De({sortable:this,name:"remove",toEl:re,originalEvent:t}),De({rootEl:re,name:"sort",toEl:re,fromEl:le,originalEvent:t}),De({sortable:this,name:"sort",toEl:re,originalEvent:t})),_e&&_e.save()):Pe!==wt&&Pe>=0&&(De({sortable:this,name:"update",toEl:re,originalEvent:t}),De({sortable:this,name:"sort",toEl:re,originalEvent:t})),x.active&&((Pe==null||Pe===-1)&&(Pe=wt,et=zt),De({sortable:this,name:"end",toEl:re,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){xe("nulling",this),le=p=re=M=st=ue=ln=tt=it=je=Vt=Pe=et=wt=zt=yt=qt=_e=Zt=x.dragged=x.ghost=x.clone=x.active=null,fn.forEach(function(t){t.checked=!0}),fn.length=Dn=Fn=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":p&&(this._onDragOver(t),qa(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,l=0,a=o.length,u=this.options;l<a;l++)n=o[l],Ye(n,u.draggable,this.el,!1)&&t.push(n.getAttribute(u.dataIdAttr)||$a(n));return t},sort:function(t,n){var o={},l=this.el;this.toArray().forEach(function(a,u){var s=l.children[u];Ye(s,this.options.draggable,l,!1)&&(o[a]=s)},this),n&&this.captureAnimationState(),t.forEach(function(a){o[a]&&(l.removeChild(o[a]),l.appendChild(o[a]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Ye(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var l=Lt.modifyOption(this,t,n);typeof l!="undefined"?o[t]=l:o[t]=n,t==="group"&&Qo(o)},destroy:function(){xe("destroy",this);var t=this.el;t[Me]=null,j(t,"mousedown",this._onTapStart),j(t,"touchstart",this._onTapStart),j(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(j(t,"dragover",this),j(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),dn.splice(dn.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!tt){if(xe("hideClone",this),x.eventCanceled)return;F(ue,"display","none"),this.options.removeCloneOnHide&&ue.parentNode&&ue.parentNode.removeChild(ue),tt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(tt){if(xe("showClone",this),x.eventCanceled)return;p.parentNode==le&&!this.options.group.revertClone?le.insertBefore(ue,p):st?le.insertBefore(ue,st):le.appendChild(ue),this.options.group.revertClone&&this.animate(p,ue),F(ue,"display",""),tt=!1}}};function qa(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function tn(e,t,n,o,l,a,u,s){var r,v=e[Me],c=v.options.onMove,m;return window.CustomEvent&&!Ze&&!Ht?r=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(r=document.createEvent("Event"),r.initEvent("move",!0,!0)),r.to=t,r.from=e,r.dragged=n,r.draggedRect=o,r.related=l||t,r.relatedRect=a||pe(t),r.willInsertAfter=s,r.originalEvent=u,e.dispatchEvent(r),c&&(m=c.call(v,r,u)),m}function Bn(e){e.draggable=!1}function Ra(){In=!1}function Ha(e,t,n){var o=pe(Dt(n.el,0,n.options,!0)),l=10;return t?e.clientX<o.left-l||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-l||e.clientY<o.bottom&&e.clientX<o.left}function La(e,t,n){var o=pe(Hn(n.el,n.options.draggable)),l=10;return t?e.clientX>o.right+l||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+l}function ja(e,t,n,o,l,a,u,s){var r=o?e.clientY:e.clientX,v=o?n.height:n.width,c=o?n.top:n.left,m=o?n.bottom:n.right,w=!1;if(!u){if(s&&an<v*l){if(!Rt&&(qt===1?r>c+v*a/2:r<m-v*a/2)&&(Rt=!0),Rt)w=!0;else if(qt===1?r<c+an:r>m-an)return-qt}else if(r>c+v*(1-l)/2&&r<m-v*(1-l)/2)return Xa(t)}return w=w||u,w&&(r<c+v*a/2||r>m-v*a/2)?r>c+v/2?1:-1:0}function Xa(e){return He(p)<He(e)?1:-1}function $a(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Qa(e){fn.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&fn.push(o)}}function un(e){return setTimeout(e,0)}function Pn(e){return clearTimeout(e)}hn&&$(document,"touchmove",function(e){(x.active||St)&&e.cancelable&&e.preventDefault()});x.utils={on:$,off:j,css:F,find:Ro,is:function(t,n){return!!Ye(t,n,t,!1)},extend:Ba,throttle:Ho,closest:Ye,toggleClass:Ie,clone:jo,index:He,nextTick:un,cancelNextTick:Pn,detectDirection:$o,getChild:Dt};x.get=function(e){return e[Me]};x.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(x.utils=Ue(Ue({},x.utils),o.utils)),Lt.mount(o)})};x.create=function(e,t){return new x(e,t)};x.version=Da;var he=[],It,Mn,Nn=!1,An,Tn,vn,Pt;function Ya(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?$(document,"dragover",this._handleAutoScroll):this.options.supportPointer?$(document,"pointermove",this._handleFallbackAutoScroll):o.touches?$(document,"touchmove",this._handleFallbackAutoScroll):$(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):(j(document,"pointermove",this._handleFallbackAutoScroll),j(document,"touchmove",this._handleFallbackAutoScroll),j(document,"mousemove",this._handleFallbackAutoScroll)),Ao(),rn(),Aa()},nulling:function(){vn=Mn=It=Nn=Pt=An=Tn=null,he.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var l=this,a=(n.touches?n.touches[0]:n).clientX,u=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(a,u);if(vn=n,o||this.options.forceAutoScrollFallback||Ht||Ze||Mt){kn(n,this.options,s,o);var r=nt(s,!0);Nn&&(!Pt||a!==An||u!==Tn)&&(Pt&&Ao(),Pt=setInterval(function(){var v=nt(document.elementFromPoint(a,u),!0);v!==r&&(r=v,rn()),kn(n,l.options,v,o)},10),An=a,Tn=u)}else{if(!this.options.bubbleScroll||nt(s,!0)===We()){rn();return}kn(n,this.options,nt(s,!1),!1)}}},Ke(e,{pluginName:"scroll",initializeByDefault:!0})}function rn(){he.forEach(function(e){clearInterval(e.pid)}),he=[]}function Ao(){clearInterval(Pt)}var kn=Ho(function(e,t,n,o){if(!!t.scroll){var l=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,u=t.scrollSensitivity,s=t.scrollSpeed,r=We(),v=!1,c;Mn!==n&&(Mn=n,rn(),It=t.scroll,c=t.scrollFn,It===!0&&(It=nt(n,!0)));var m=0,w=It;do{var _=w,D=pe(_),y=D.top,L=D.bottom,ee=D.left,q=D.right,U=D.width,R=D.height,N=void 0,Z=void 0,ye=_.scrollWidth,te=_.scrollHeight,oe=F(_),me=_.scrollLeft,ne=_.scrollTop;_===r?(N=U<ye&&(oe.overflowX==="auto"||oe.overflowX==="scroll"||oe.overflowX==="visible"),Z=R<te&&(oe.overflowY==="auto"||oe.overflowY==="scroll"||oe.overflowY==="visible")):(N=U<ye&&(oe.overflowX==="auto"||oe.overflowX==="scroll"),Z=R<te&&(oe.overflowY==="auto"||oe.overflowY==="scroll"));var se=N&&(Math.abs(q-l)<=u&&me+U<ye)-(Math.abs(ee-l)<=u&&!!me),ge=Z&&(Math.abs(L-a)<=u&&ne+R<te)-(Math.abs(y-a)<=u&&!!ne);if(!he[m])for(var ce=0;ce<=m;ce++)he[ce]||(he[ce]={});(he[m].vx!=se||he[m].vy!=ge||he[m].el!==_)&&(he[m].el=_,he[m].vx=se,he[m].vy=ge,clearInterval(he[m].pid),(se!=0||ge!=0)&&(v=!0,he[m].pid=setInterval(function(){o&&this.layer===0&&x.active._onTouchMove(vn);var Se=he[this.layer].vy?he[this.layer].vy*s:0,ae=he[this.layer].vx?he[this.layer].vx*s:0;typeof c=="function"&&c.call(x.dragged.parentNode[Me],ae,Se,e,vn,he[this.layer].el)!=="continue"||Lo(he[this.layer].el,ae,Se)}.bind({layer:m}),24))),m++}while(t.bubbleScroll&&w!==r&&(w=nt(w,!1)));Nn=v}},30),Uo=function(t){var n=t.originalEvent,o=t.putSortable,l=t.dragEl,a=t.activeSortable,u=t.dispatchSortableEvent,s=t.hideGhostForTarget,r=t.unhideGhostForTarget;if(!!n){var v=o||a;s();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,m=document.elementFromPoint(c.clientX,c.clientY);r(),v&&!v.el.contains(m)&&(u("spill"),this.onSpill({dragEl:l,putSortable:o}))}};function Ln(){}Ln.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var l=Dt(this.sortable.el,this.startIndex,this.options);l?this.sortable.el.insertBefore(n,l):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:Uo};Ke(Ln,{pluginName:"revertOnSpill"});function jn(){}jn.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,l=o||this.sortable;l.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),l.animateAll()},drop:Uo};Ke(jn,{pluginName:"removeOnSpill"});x.mount(new Ya);x.mount(jn,Ln);const Wa=C("div",{class:"text-body"},[Ne("\u5F88\u9057\u61BE\uFF0C\u4F60\u7684\u6D4F\u89C8\u5668"),C("span",{class:"text-negative text-bold"},"\u4E0D\u652F\u6301 "),Ne("File System Access API \u529F\u80FD\uFF0C\u5E94\u7528\u65E0\u6CD5\u6B63\u5E38\u8FD0\u884C\u3002\u53EF\u4EE5\u5C1D\u8BD5\u4F7F\u7528\u6700\u65B0\u7248\u672C\u7684\u684C\u9762\u7AEF Edge\u3001Chrome\u3001Safari\u3001Opera \u6D4F\u89C8\u5668\u8BBF\u95EE\u8BE5\u9875\u9762\u3002")],-1),Ua={key:1,class:"col-10 bg-white q-pa-md row items-center q-gutter-y-lg"},Ga={class:"col-12 q-gutter-y-sm"},Ka={class:"col-12 row items-center q-gutter-x-md"},Za={key:0,class:"col-12 row q-gutter-x-md"},Ja={key:1,class:"col-12 row q-gutter-x-sm"},ei={class:"col-12"},ti={class:"col-12 row justify-center"},ni=C("div",{class:"col-12 row justify-center"},[C("div",{class:"text-body"},"\u8BF7\u5148\u6253\u5F00\u6587\u4EF6\u5939")],-1),oi={key:2,class:"col-10 bg-white q-pa-md row items-center q-gutter-y-lg"},li={class:"col-12 q-gutter-y-sm"},ai={class:"col-12 row items-center q-gutter-x-md"},ii={class:"col-12 row items-center row"},ui=C("div",{class:"text-body col-12"},"\u63D0\u53D6\u9879\uFF1A",-1),ri=["onClick"],si={class:"text-bold"},ci={key:0,class:"col-12 row items-center q-gutter-x-md"},di={class:"col-12 row items-center q-gutter-x-md"},fi={class:"col-12"},vi={class:"text-positive"},hi={class:"text-primary"},mi={key:3,class:"col-10 bg-white q-pa-md row items-center q-gutter-y-lg"},gi={class:"text-body1"},pi=C("br",null,null,-1),bi={class:"text-left",style:{"max-height":"60vh","overflow-y":"auto"}},yi=C("div",{class:"text-h6"},"\u90E8\u5206\u66FF\u6362\u6A21\u5F0F",-1),_i=C("div",{class:"text-body"},"\u5982\u679C\u6B63\u5219\u51B2\u7A81\uFF0C\u5219\u4EE5\u6B63\u5219\u6700\u5148\u5339\u914D\u7684\u7ED3\u679C\u4E3A\u51C6\u3002",-1),Si=C("div",{class:"text-h6"},"\u4F7F\u7528\u6B63\u5219\u63D0\u53D6\u9879",-1),wi=C("div",{class:"text-body"},[Ne("\u4F8B\u5982\uFF0C\u4F9D\u636E\u4E00\u4E9B\u6587\u4EF6\u63D0\u53D6\u59D3\u540D\uFF0C\u7136\u540E\u91CD\u65B0\u751F\u6210\u7684\u7C7B\u4F3C "),C("code",null,"1_\u5C0F\u660E.jpg"),Ne(" \u7684\u6587\u4EF6\uFF1A")],-1),Ei=C("br",null,null,-1),Ci=C("div",{class:"text-bold"},"\u793A\u4F8B\u6587\u4EF6",-1),Di=C("code",null,[C("pre",null,"\u5C0F\u660E.mp4 1_\u5C0F\u7EA2.mp4 28244()\u5C0F\u84DD.mp4")],-1),Fi=C("br",null,null,-1),xi=C("div",{class:"text-body"},"\u586B\u5199\u597D\u4EE5\u4E0B\u9879\uFF1A",-1),Bi=C("div",{class:"text-bold"},"\u63D0\u53D6\u9879",-1),Ai=C("ul",null,[C("li",null,[C("code",null,"([^\\d\\w]+)\\.mp4$")])],-1),Ti=C("div",{class:"text-bold"},"\u65B0\u6587\u4EF6\u540D",-1),ki=["textContent"],Oi=C("br",null,null,-1),Vi=C("div",{class:"text-body"},"\u70B9\u51FB\u201C\u91CD\u65B0\u6392\u5E8F\u201D\u6309\u94AE\uFF0C\u7136\u540E\u6309\u201C\u91CD\u547D\u540D\u201D\u6309\u94AE\u5373\u53EF\u3002",-1),Ii=C("br",null,null,-1),Pi=C("div",{class:"text-bold"},"\u91CD\u547D\u540D\u540E\u9879",-1),Mi=C("code",null,[C("pre",null,"1_\u5C0F\u660E.mp4 2_\u5C0F\u7EA2.mp4 3_\u5C0F\u84DD.mp4")],-1),Ni=C("div",{class:"text-h6"},"\u6355\u83B7\u7EC4",-1),zi={class:"text-body"},qi=Ne("\u53EF\u4EE5\u5728\u63D0\u53D6\u9879\u7D22\u5F15\u540E\u9762\u4F7F\u7528\u6355\u83B7\u7EC4\u7684\u7D22\u5F15\u6765\u83B7\u53D6\u5339\u914D\u7ED3\u679C\u3002\u4F8B\u5982"),Ri=["textContent"],Hi=Ne("\u8868\u793A\u7B2C\u56DB\u63D0\u53D6\u9879\u7684\u7B2C\u4E03\u4E2A\u6355\u83B7\u7EC4\u3002"),Li=C("br",null,null,-1),ji={class:"text-body"},Xi=Ne("\u5177\u540D\u6355\u83B7\u7EC4\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u540D\u5B57\u8BBF\u95EE\uFF0C\u4E5F\u53EF\u4EE5\u5728\u63D0\u53D6\u9879\u7D22\u5F15\u540E\u9762\u4F7F\u7528\u540D\u5B57\u8BBF\u95EE\uFF0C\u4F8B\u5982\uFF1A"),$i=["textContent"],Qi=Ne("\u3002\u5982\u679C\u76F4\u63A5\u8BBF\u95EE\u6709\u51B2\u7A81\uFF0C\u5219\u4EE5\u4E3A\u6700\u540E\u4E00\u4E2A\u540C\u540D\u5177\u540D\u6355\u83B7\u7EC4\u6240\u6355\u83B7\u7684\u4E3A\u51C6\u3002"),Yi=C("div",{class:"text-h6"},"\u662F\u5426\u786E\u8BA4\u91CD\u547D\u540D\uFF1F",-1),Wi=C("div",{class:"text-body"},"\u8BF7\u4ED4\u7EC6\u68C0\u67E5\u4E0B\u5217\u5217\u8868\u7684\u91CD\u547D\u540D\u7ED3\u679C\u662F\u5426\u6B63\u786E\u3002 ",-1),Ui={class:"text-positive"},Gi={class:"text-primary"},Ki=Ne("\u786E\u8BA4"),Zi=Ne("\u53D6\u6D88"),du=Ol({name:"batch_file_renaming",setup(e){const t=A(!0);window.showDirectoryPicker||(t.value=!1);const n=A(void 0),o=A(!1),l=A([]);function a(){o.value=!0,window.showDirectoryPicker().then(async g=>{if(!!g){n.value=g;for await(const d of g.values()){const{name:h}=d;d.kind==="file"&&l.value.push({name:h,handle:d,selected:!1})}}}).finally(()=>{o.value=!1})}let u=["g","i"];const s=A(0),r=A("regexp"),v=[{label:"\u9009\u62E9\u6A21\u5F0F",value:"select"},{label:"\u6B63\u5219\u5339\u914D\u6A21\u5F0F",value:"regexp"}];$e(r,()=>{l.value.forEach(g=>{g.selected=!1})});const c=A(""),m=P(()=>{try{return _.value=new RegExp(c.value,w.value.join("")),!0}catch{return!1}}),w=A([]),_=A(void 0);$e(c,()=>{c.value&&_.value?l.value.forEach(g=>{g.selected=_.value.test(g.name)}):l.value.forEach(g=>{g.selected=!1})});function D(){const g=l.value.filter(d=>d.selected).map(d=>d.handle);g.length>0&&(y.value=g,s.value++)}const y=A([]),L=A("replace"),ee=[{label:"\u90E8\u5206\u66FF\u6362\u6A21\u5F0F",value:"replace"}],q=A(!1),U=A(""),R=P(()=>{const g=/^((con)|(prn)|(aux)|(com[1-9]{1})|(lpt[1-9]{1})|(.*[|\\/<>!:\"]+.*)|([ \\t]+.*[ \\t]*)|([ \\t]*.*[ \\t]+))$/,d=/^\./;return!(g.test(U.value)||d.test(U.value))}),N=A([]);Z();function Z(){for(let g=0;g<360;g++)N.value.push(g);ye(N.value)}function ye(g){for(let d=g.length-1;d>0;d--){const h=Math.floor(Math.random()*(d+1));[g[d],g[h]]=[g[h],g[d]]}}const te=A([]);oe("",[],"");function oe(g,d,h){N.value.length===0&&Z(),te.value.push({regexp_src:g,regexp_flags:d,replace:h,regexp:void 0,regexp_error:!1,hue:N.value.pop()})}function me(g){if(g.regexp_src)try{g.regexp=new RegExp(g.regexp_src,g.regexp_flags.join("")),g.regexp_error=!1}catch{g.regexp_error=!0}Te()}const ne=A(!0),se=A("\u6587\u4EF6\u540D"),ge=["\u6587\u4EF6\u540D","\u6587\u4EF6\u5927\u5C0F","\u6587\u4EF6\u4FEE\u6539\u65F6\u95F4"],ce=A("\u5347\u5E8F"),Se=["\u5347\u5E8F","\u964D\u5E8F"],ae=A(!1);function Ae(){const g=ce.value==="\u5347\u5E8F"?1:-1;console.log(g),se.value==="\u6587\u4EF6\u540D"?y.value.sort((d,h)=>d.name.localeCompare(h.name)*g):(ae.value=!0,Promise.allSettled(y.value.map(d=>d.getFile())).then(d=>{const h=new Map;d.forEach((O,V)=>{O.status==="fulfilled"?h.set(y.value[V],O.value):h.set(y.value[V],void 0)}),se.value==="\u6587\u4EF6\u5927\u5C0F"?y.value.sort((O,V)=>{var de,ke,ze,Qe;return(((ke=(de=h.get(O))==null?void 0:de.size)!=null?ke:0)-((Qe=(ze=h.get(V))==null?void 0:ze.size)!=null?Qe:0))*g}):se.value==="\u6587\u4EF6\u4FEE\u6539\u65F6\u95F4"&&y.value.sort((O,V)=>{var de,ke,ze,Qe;return(((ke=(de=h.get(O))==null?void 0:de.lastModified)!=null?ke:0)-((Qe=(ze=h.get(V))==null?void 0:ze.lastModified)!=null?Qe:0))*g})}).finally(()=>{ae.value=!1}))}Vl(()=>{$e(s,()=>{requestAnimationFrame(()=>{if(s.value===1){const g=document.getElementById("selected_list_el");g&&new x(g,{animation:150,ghostClass:"",onEnd(d){const h=y.value,{oldIndex:O,newIndex:V}=d,de=h[O];h.splice(O,1),h.splice(V,0,de)}})}})})});const be=A(!1),ve=A(new Map);A(new Map);function Te(){const g=y.value,d=te.value.filter(h=>!h.regexp_error);if(console.log(ve.value,d),L.value==="replace"){const h=ve.value;g.forEach(O=>{let V=O.name;d.forEach(de=>{de.regexp.flags.indexOf("g")!==-1?V=V.replaceAll(de.regexp,de.replace):V=V.replace(de.regexp,de.replace)}),h.set(O,V)})}}function f(){const g=y.value;b.value=g.filter(d=>ve.value.get(d)&&ve.value.get(d)!==d.name),be.value=b.value.length>0}const b=A([]),T=A([]);async function X(g){const d={};return await Promise.race([g,d]).then(h=>h===d?"pending":"fulfilled",h=>h)}function ie(){be.value=!1;const g=[];b.value.forEach(h=>{g.push(G(h,ve.value.get(h)))}),s.value++,k.value=!0;const d=setInterval(()=>{T.value=[],Promise.all(g.map(async h=>await X(h))).then(h=>T.value=h)},50);Promise.allSettled(g).then(h=>{clearInterval(d),Promise.all(g.map(async O=>await X(O))).then(O=>T.value=O),k.value=!1})}function H(){be.value=!1}const k=A(!1);async function G(g,d){const h=await g.getFile();try{return await n.value.getFileHandle(d),Promise.reject("\u65B0\u6587\u4EF6\u5DF2\u5B58\u5728")}catch{try{await n.value.removeEntry(g.name)}catch{return Promise.reject("\u6587\u4EF6\u5220\u9664\u5931\u8D25")}const V=await n.value.getFileHandle(d,{create:!0});await h.stream().pipeTo(await V.createWritable())}}return(g,d)=>(K(),Ce(ia,{class:"row bg-grey-3 justify-center items-start"},{default:W(()=>[t.value?s.value===0?(K(),qe("div",Ua,[C("div",Ga,[C("div",Ka,[B(Be,{label:"\u6253\u5F00\u6587\u4EF6\u5939",onClick:a,loading:o.value,color:"accent"},null,8,["loading"]),B(po,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=h=>r.value=h),"toggle-color":"primary",options:v},null,8,["modelValue"]),B(bo),B(Be,{label:"\u4E0B\u4E00\u6B65",color:"primary",onClick:D})]),r.value==="regexp"?(K(),qe("div",Za,[B(Wt,{class:"col-grow",label:"\u8FC7\u6EE4\u6B63\u5219",modelValue:c.value,"onUpdate:modelValue":d[1]||(d[1]=h=>c.value=h),error:c.value.length>0&&!Ut(m)},null,8,["modelValue","error"]),B(Kt,{class:"col-shirk",label:"\u6807\u8BB0",modelValue:w.value,"onUpdate:modelValue":d[2]||(d[2]=h=>w.value=h),multiple:"",options:Ut(u),style:{"min-width":"100px"}},null,8,["modelValue","options"])])):Le("",!0),r.value==="select"?(K(),qe("div",Ja,[B(Be,{label:"\u5168\u9009",onClick:d[3]||(d[3]=h=>l.value.forEach(O=>O.selected=!0))}),B(Be,{label:"\u5168\u4E0D\u9009",onClick:d[4]||(d[4]=h=>l.value.forEach(O=>O.selected=!1))}),B(Be,{label:"\u53CD\u9009",onClick:d[5]||(d[5]=h=>l.value.forEach(O=>O.selected=!O.selected))})])):Le("",!0)]),C("div",ei,[l.value.length===0?(K(),Ce(Yt,{key:0,flat:""},{default:W(()=>[B(at,{class:"row bg-grey-3"},{default:W(()=>[C("div",ti,[B(_t,{name:"mdi-folder-off-outline",size:"lg"})]),ni]),_:1})]),_:1})):Le("",!0),B(Gt,{separator:"",bordered:""},{default:W(()=>[(K(!0),qe(At,null,Tt(l.value,h=>(K(),Ce(Ot,{class:co({"text-primary":h.selected,"bg-grey-3":h.selected})},{default:W(()=>[r.value==="select"?(K(),Ce(go,{key:0,modelValue:h.selected,"onUpdate:modelValue":O=>h.selected=O},null,8,["modelValue","onUpdate:modelValue"])):Le("",!0),B(nn,null,{default:W(()=>[Ne(Re(h.name),1)]),_:2},1024)]),_:2},1032,["class"]))),256))]),_:1})])])):s.value===1?(K(),qe("div",oi,[C("div",li,[C("div",ai,[B(po,{modelValue:L.value,"onUpdate:modelValue":d[6]||(d[6]=h=>L.value=h),"toggle-color":"primary",options:ee},null,8,["modelValue"]),B(Be,{label:"\u6559\u7A0B",color:"accent",onClick:d[7]||(d[7]=h=>q.value=!0)}),B(bo),B(Be,{label:"\u4E0A\u4E00\u6B65",onClick:d[8]||(d[8]=h=>s.value--)}),B(Be,{label:"\u91CD\u547D\u540D",color:"primary",onClick:f})])]),C("div",ii,[ui,B(Gt,{class:"col-12",separator:"",bordered:""},{default:W(()=>[(K(!0),qe(At,null,Tt(te.value,(h,O)=>(K(),Ce(Ot,{class:"q-gutter-x-md items-center row"},{default:W(()=>[C("div",{class:"justify-center items-center row",style:Il([{"background-color":`hsl(${h.hue}, ${h.hue/360*20+55}%, ${h.hue/360*20+58}%)`},{"min-width":"20px","min-height":"46px"}]),onClick:V=>{var de;return h.hue=(de=N.value.length>0?N.value.pop():Z()||N.value.pop())!=null?de:0}},[C("div",si,Re(O),1)],12,ri),O!==te.value.length-1?(K(),Ce(Be,{key:0,round:"",icon:"mdi-minus",onClick:V=>te.value.splice(O,1),color:"negative",size:"sm"},null,8,["onClick"])):(K(),Ce(Be,{key:1,round:"",icon:"mdi-plus",onClick:d[9]||(d[9]=V=>oe("",[],"")),color:"primary",size:"sm"})),B(Wt,{class:"col-grow",label:"\u5339\u914D\u6B63\u5219",modelValue:h.regexp_src,"onUpdate:modelValue":[V=>h.regexp_src=V,V=>me(h)],error:h.regexp_error},null,8,["modelValue","onUpdate:modelValue","error"]),B(Kt,{label:"\u6807\u8BB0",modelValue:h.regexp_flags,"onUpdate:modelValue":[V=>h.regexp_flags=V,V=>me(h)],multiple:"",options:Ut(u),style:{"min-width":"100px"}},null,8,["modelValue","onUpdate:modelValue","options"]),L.value==="replace"?(K(),Ce(Wt,{key:2,class:"col-grow",label:"\u66FF\u6362\u6587\u672C",modelValue:h.replace,"onUpdate:modelValue":[V=>h.replace=V,Te]},null,8,["modelValue","onUpdate:modelValue"])):Le("",!0)]),_:2},1024))),256))]),_:1})]),L.value==="combination"?(K(),qe("div",ci,[B(Wt,{class:"col-grow",label:"\u65B0\u6587\u4EF6\u540D",modelValue:U.value,"onUpdate:modelValue":d[10]||(d[10]=h=>U.value=h),hint:"\u53EF\u4EE5\u4F7F\u7528{{order}}\u8868\u793A\u987A\u5E8F\uFF0C\u5728\u524D\u9762\u52A0$\u53EF\u4EE5\u53D6\u6D88\u8FD9\u79CD\u8F6C\u4E49",error:!Ut(R),"error-label":"\u6587\u4EF6\u540D\u4E0D\u5408\u6CD5"},null,8,["modelValue","error"]),B(go,{label:"\u4FDD\u7559\u6269\u5C55\u540D",modelValue:ne.value,"onUpdate:modelValue":d[11]||(d[11]=h=>ne.value=h)},null,8,["modelValue"])])):Le("",!0),C("div",di,[B(Be,{label:"\u91CD\u65B0\u6392\u5E8F",onClick:Ae,loading:ae.value},null,8,["loading"]),B(Kt,{class:"col-shirk",label:"\u6392\u5E8F\u4F9D\u636E",modelValue:se.value,"onUpdate:modelValue":d[12]||(d[12]=h=>se.value=h),options:ge,style:{"min-width":"100px"}},null,8,["modelValue"]),B(Kt,{class:"col-shirk",label:"\u6392\u5E8F\u65B9\u5F0F",modelValue:ce.value,"onUpdate:modelValue":d[13]||(d[13]=h=>ce.value=h),options:Se,style:{"min-width":"100px"}},null,8,["modelValue"])]),C("div",fi,[B(Gt,{id:"selected_list_el",separator:"",bordered:""},{default:W(()=>[(K(!0),qe(At,null,Tt(y.value,(h,O)=>(K(),Ce(Ot,{draggable:"true",key:h.name},{default:W(()=>[B(nn,null,{default:W(()=>{var V;return[C("div",vi,Re(h.name),1),B(_t,{name:"mdi-arrow-down"}),C("div",hi,Re((V=ve.value.get(h))!=null?V:O),1)]}),_:2},1024)]),_:2},1024))),128))]),_:1})])])):s.value===2?(K(),qe("div",mi,[B(ra,{showing:""},{default:W(()=>[k.value?(K(),Ce(Sa,{key:0,size:"3rem"})):Le("",!0),C("div",gi,Re(k.value?"\u8BF7\u7A0D\u7B49...":"\u5DF2\u5B8C\u6210"),1),pi,C("div",bi,[(K(!0),qe(At,null,Tt(T.value,(h,O)=>(K(),qe("div",{class:co({"text-positive":h==="fulfilled","text-negative":h!=="fulfilled"&&h!=="pending"})},[h==="fulfilled"?(K(),Ce(_t,{key:0,name:"mdi-check"})):Le("",!0),h!=="fulfilled"&&h!=="pending"?(K(),Ce(_t,{key:1,name:"mdi-close"})):Le("",!0),h==="pending"?(K(),Ce(ua,{key:2,size:"1rem"})):Le("",!0),Ne(Re(ve.value.get(b.value[O]))+": "+Re(h),1)],2))),256))])]),_:1})])):Le("",!0):(K(),Ce(Yt,{key:0,style:{"z-index":"100"}},{default:W(()=>[B(at,null,{default:W(()=>[Wa]),_:1})]),_:1})),B(Vn,{modelValue:q.value,"onUpdate:modelValue":d[14]||(d[14]=h=>q.value=h)},{default:W(()=>[B(Yt,null,{default:W(()=>[B(at,null,{default:W(()=>[yi,_i]),_:1}),B(at,null,{default:W(()=>[Si,wi,Ei,Ci,Di,Fi,xi,Bi,Ai,Ti,C("code",null,[C("pre",{textContent:Re("{{order}}_{{1.0}}")},null,8,ki)]),Oi,Vi,Ii,Pi,Mi]),_:1}),B(at,null,{default:W(()=>[Ni,C("div",zi,[qi,C("code",{textContent:Re("{{4.7}}")},null,8,Ri),Hi]),Li,C("div",ji,[Xi,C("code",{textContent:Re("name\u3001{{4.name}}")},null,8,$i),Qi])]),_:1})]),_:1})]),_:1},8,["modelValue"]),B(Vn,{modelValue:be.value,"onUpdate:modelValue":d[15]||(d[15]=h=>be.value=h)},{default:W(()=>[B(Yt,null,{default:W(()=>[B(at,null,{default:W(()=>[Yi,Wi]),_:1}),B(at,null,{default:W(()=>[B(Gt,{separator:"",bordered:""},{default:W(()=>[(K(!0),qe(At,null,Tt(b.value,(h,O)=>(K(),Ce(Ot,{key:h.name},{default:W(()=>[B(nn,null,{default:W(()=>[C("div",Ui,[Ne(Re(h.name),1),B(_t,{name:"mdi-arrow-down",color:"black"})]),C("div",Gi,Re(ve.value.get(h)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),B(ql,{align:"right"},{default:W(()=>[B(Be,{color:"negative",flat:"",onClick:ie},{default:W(()=>[Ki]),_:1}),B(Be,{color:"primary",flat:"",onClick:H},{default:W(()=>[Zi]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{du as default};
