var Et=Object.defineProperty,Ft=Object.defineProperties;var xt=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var Ot=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable;var le=(e,t,r)=>t in e?Et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,V=(e,t)=>{for(var r in t||(t={}))Ot.call(t,r)&&le(e,r,t[r]);if(Ae)for(var r of Ae(t))At.call(t,r)&&le(e,r,t[r]);return e},se=(e,t)=>Ft(e,xt(t));var O=(e,t,r)=>(le(e,typeof t!="symbol"?t+"":t,r),r);import{c as kt,r as T,a as Q,w as W,o as ke,S as Se,R as $e,g as St,h as De,T as $t,e as Dt,b as Tt,s as Ct,aq as Nt,ar as It,as as Lt,I as he,ao as R,A as jt,B as Rt,C as Bt,D as k,E as Mt,H as x,F as E,at as Ut,M as Vt,N as B}from"./index.4094c5d8.js";import{u as Ht,v as Te,a as Wt,b as zt,c as qt,r as Ce,s as Qt,p as Ne,d as Gt}from"./position-engine.c5d0df96.js";import{u as Jt,a as Kt,b as Xt,c as Yt,d as Zt,e as er,j as Ie,Q as G}from"./QDialog.943933a5.js";import{u as tr,a as rr,b as nr,Q as or}from"./QList.24db9dad.js";import{Q as ar}from"./QCheckbox.33a90319.js";import{Q as H,k as J,l as K,m as ir}from"./QInput.f78cc5aa.js";import{Q as lr}from"./QInnerLoading.be46dd6e.js";import{Q as sr}from"./QPage.a1ae4f9c.js";import{c as Qe,_ as ur}from"./Editor.785434c5.js";var cr=kt({name:"QTooltip",inheritAttrs:!1,props:se(V(V(V({},Ht),Jt),tr),{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Te},self:{type:String,default:"top middle",validator:Te},offset:{type:Array,default:()=>[14,14],validator:Wt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}}),emits:[...Kt],setup(e,{slots:t,emit:r,attrs:n}){let o,i;const y=Dt(),{proxy:{$q:u}}=y,s=T(null),p=T(!1),c=Q(()=>Ne(e.anchor,u.lang.rtl)),m=Q(()=>Ne(e.self,u.lang.rtl)),w=Q(()=>e.persistent!==!0),{registerTick:f,removeTick:v}=Xt(),{registerTimeout:d,removeTimeout:b}=Yt(),{transition:D,transitionStyle:S}=rr(e,p),{localScrollTarget:C,changeScrollEvent:N,unconfigureScrollTarget:$}=zt(e,xe),{anchorEl:_,canShow:g,anchorEvents:P}=qt({showing:p,configureAnchorEl:wt}),{show:M,hide:L}=Zt({showing:p,canShow:g,handleShow:ht,handleHide:mt,hideOnRouteChange:w,processOnMount:!0});Object.assign(P,{delayShow:gt,delayHide:vt});const{showPortal:ae,hidePortal:q,renderPortal:yt}=er(y,s,Pt);if(u.platform.is.mobile===!0){const A={anchorEl:_,innerRef:s,onClickOutside(j){return L(j),j.target.classList.contains("q-dialog__backdrop")&&Ct(j),!0}},ie=Q(()=>e.modelValue===null&&e.persistent!==!0&&p.value===!0);W(ie,j=>{(j===!0?Gt:Ce)(A)}),ke(()=>{Ce(A)})}function ht(A){v(),b(),ae(),f(()=>{i=new MutationObserver(()=>U()),i.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),U(),xe()}),o===void 0&&(o=W(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,U)),d(()=>{ae(!0),r("show",A)},e.transitionDuration)}function mt(A){v(),b(),q(),Fe(),d(()=>{q(!0),r("hide",A)},e.transitionDuration)}function Fe(){i!==void 0&&(i.disconnect(),i=void 0),o!==void 0&&(o(),o=void 0),$(),Se(P,"tooltipTemp")}function U(){const A=s.value;_.value===null||!A||Qt({el:A,offset:e.offset,anchorEl:_.value,anchorOrigin:c.value,selfOrigin:m.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function gt(A){if(u.platform.is.mobile===!0){Ie(),document.body.classList.add("non-selectable");const ie=_.value,j=["touchmove","touchcancel","touchend","click"].map(Oe=>[ie,Oe,"delayHide","passiveCapture"]);$e(P,"tooltipTemp",j)}d(()=>{M(A)},e.delay)}function vt(A){b(),u.platform.is.mobile===!0&&(Se(P,"tooltipTemp"),Ie(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),d(()=>{L(A)},e.hideDelay)}function wt(){if(e.noParentEvent===!0||_.value===null)return;const A=u.platform.is.mobile===!0?[[_.value,"touchstart","delayShow","passive"]]:[[_.value,"mouseenter","delayShow","passive"],[_.value,"mouseleave","delayHide","passive"]];$e(P,"anchor",A)}function xe(){if(_.value!==null||e.scrollTarget!==void 0){C.value=St(_.value,e.scrollTarget);const A=e.noParentEvent===!0?U:L;N(C.value,A)}}function bt(){return p.value===!0?De("div",se(V({},n),{ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,S.value],role:"complementary"}),Tt(t.default)):null}function Pt(){return De($t,{name:D.value,appear:!0},bt)}return ke(Fe),Object.assign(y.proxy,{updatePosition:U}),yt}});function dr(e){return Nt()?(It(e),!0):!1}var Le;const z=typeof window!="undefined",fr=e=>typeof e=="string",ue=()=>{};z&&((Le=window==null?void 0:window.navigator)==null?void 0:Le.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function pr(e,t){function r(...n){e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return r}const Ge=e=>e();function _r(e=Ge){const t=T(!0);function r(){t.value=!1}function n(){t.value=!0}return{isActive:t,pause:r,resume:n,eventFilter:(...i)=>{t.value&&e(...i)}}}var je=Object.getOwnPropertySymbols,yr=Object.prototype.hasOwnProperty,hr=Object.prototype.propertyIsEnumerable,mr=(e,t)=>{var r={};for(var n in e)yr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&je)for(var n of je(e))t.indexOf(n)<0&&hr.call(e,n)&&(r[n]=e[n]);return r};function gr(e,t,r={}){const n=r,{eventFilter:o=Ge}=n,i=mr(n,["eventFilter"]);return W(e,pr(o,t),i)}var vr=Object.defineProperty,wr=Object.defineProperties,br=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,Re=(e,t,r)=>t in e?vr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pr=(e,t)=>{for(var r in t||(t={}))Je.call(t,r)&&Re(e,r,t[r]);if(Y)for(var r of Y(t))Ke.call(t,r)&&Re(e,r,t[r]);return e},Er=(e,t)=>wr(e,br(t)),Fr=(e,t)=>{var r={};for(var n in e)Je.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Y)for(var n of Y(e))t.indexOf(n)<0&&Ke.call(e,n)&&(r[n]=e[n]);return r};function xr(e,t,r={}){const n=r,{eventFilter:o}=n,i=Fr(n,["eventFilter"]),{eventFilter:y,pause:u,resume:s,isActive:p}=_r(o);return{stop:gr(e,t,Er(Pr({},i),{eventFilter:y})),pause:u,resume:s,isActive:p}}function Or(e){var t;const r=he(e);return(t=r==null?void 0:r.$el)!=null?t:r}const Z=z?window:void 0;z&&window.document;z&&window.navigator;z&&window.location;function Ar(...e){let t,r,n,o;if(fr(e[0])?([r,n,o]=e,t=Z):[t,r,n,o]=e,!t)return ue;let i=ue;const y=W(()=>Or(t),s=>{i(),s&&(s.addEventListener(r,n,o),i=()=>{s.removeEventListener(r,n,o),i=ue})},{immediate:!0,flush:"post"}),u=()=>{y(),i()};return dr(u),u}const ce=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},de="__vueuse_ssr_handlers__";ce[de]=ce[de]||{};const kr=ce[de];function Sr(e,t){return kr[e]||t}function $r(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const Dr={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Tr(e,t,r,n={}){var o;const{flush:i="pre",deep:y=!0,listenToStorageChanges:u=!0,writeDefaults:s=!0,shallow:p,window:c=Z,eventFilter:m,onError:w=_=>{console.error(_)}}=n,f=(p?Lt:T)(t);if(!r)try{r=Sr("getDefaultStorage",()=>{var _;return(_=Z)==null?void 0:_.localStorage})()}catch(_){w(_)}if(!r)return f;const v=he(t),d=$r(v),b=(o=n.serializer)!=null?o:Dr[d],{pause:D,resume:S}=xr(f,()=>C(f.value),{flush:i,deep:y,eventFilter:m});return c&&u&&Ar(c,"storage",$),$(),f;function C(_){try{_==null?r.removeItem(e):r.setItem(e,b.write(_))}catch(g){w(g)}}function N(_){if(!(_&&_.key!==e)){D();try{const g=_?_.newValue:r.getItem(e);return g==null?(s&&v!==null&&r.setItem(e,b.write(v)),v):typeof g!="string"?g:b.read(g)}catch(g){w(g)}finally{S()}}}function $(_){_&&_.key!==e||(f.value=N(_))}}function Cr(e,t,r={}){const{window:n=Z}=r;return Tr(e,t,n==null?void 0:n.localStorage,r)}var Be;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Be||(Be={}));var Xe={exports:{}},Ye={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Qe,function(){function r(d){return!isNaN(parseFloat(d))&&isFinite(d)}function n(d){return d.charAt(0).toUpperCase()+d.substring(1)}function o(d){return function(){return this[d]}}var i=["isConstructor","isEval","isNative","isToplevel"],y=["columnNumber","lineNumber"],u=["fileName","functionName","source"],s=["args"],p=["evalOrigin"],c=i.concat(y,u,s,p);function m(d){if(!!d)for(var b=0;b<c.length;b++)d[c[b]]!==void 0&&this["set"+n(c[b])](d[c[b]])}m.prototype={getArgs:function(){return this.args},setArgs:function(d){if(Object.prototype.toString.call(d)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=d},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(d){if(d instanceof m)this.evalOrigin=d;else if(d instanceof Object)this.evalOrigin=new m(d);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var d=this.getFileName()||"",b=this.getLineNumber()||"",D=this.getColumnNumber()||"",S=this.getFunctionName()||"";return this.getIsEval()?d?"[eval] ("+d+":"+b+":"+D+")":"[eval]:"+b+":"+D:S?S+" ("+d+":"+b+":"+D+")":d+":"+b+":"+D}},m.fromString=function(b){var D=b.indexOf("("),S=b.lastIndexOf(")"),C=b.substring(0,D),N=b.substring(D+1,S).split(","),$=b.substring(S+1);if($.indexOf("@")===0)var _=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec($,""),g=_[1],P=_[2],M=_[3];return new m({functionName:C,args:N||void 0,fileName:g,lineNumber:P||void 0,columnNumber:M||void 0})};for(var w=0;w<i.length;w++)m.prototype["get"+n(i[w])]=o(i[w]),m.prototype["set"+n(i[w])]=function(d){return function(b){this[d]=Boolean(b)}}(i[w]);for(var f=0;f<y.length;f++)m.prototype["get"+n(y[f])]=o(y[f]),m.prototype["set"+n(y[f])]=function(d){return function(b){if(!r(b))throw new TypeError(d+" must be a Number");this[d]=Number(b)}}(y[f]);for(var v=0;v<u.length;v++)m.prototype["get"+n(u[v])]=o(u[v]),m.prototype["set"+n(u[v])]=function(d){return function(b){this[d]=String(b)}}(u[v]);return m})})(Ye);(function(e,t){(function(r,n){e.exports=n(Ye.exports)})(Qe,function(n){var o=/(^|@)\S+:\d+/,i=/^\s*at .*(\S+:\d+|\(native\))/m,y=/^(eval@)?(\[native code])?$/;return{parse:function(s){if(typeof s.stacktrace!="undefined"||typeof s["opera#sourceloc"]!="undefined")return this.parseOpera(s);if(s.stack&&s.stack.match(i))return this.parseV8OrIE(s);if(s.stack)return this.parseFFOrSafari(s);throw new Error("Cannot parse given Error object")},extractLocation:function(s){if(s.indexOf(":")===-1)return[s];var p=/(.+?)(?::(\d+))?(?::(\d+))?$/,c=p.exec(s.replace(/[()]/g,""));return[c[1],c[2]||void 0,c[3]||void 0]},parseV8OrIE:function(s){var p=s.stack.split(`
`).filter(function(c){return!!c.match(i)},this);return p.map(function(c){c.indexOf("(eval ")>-1&&(c=c.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var m=c.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),w=m.match(/ (\(.+\)$)/);m=w?m.replace(w[0],""):m;var f=this.extractLocation(w?w[1]:m),v=w&&m||void 0,d=["eval","<anonymous>"].indexOf(f[0])>-1?void 0:f[0];return new n({functionName:v,fileName:d,lineNumber:f[1],columnNumber:f[2],source:c})},this)},parseFFOrSafari:function(s){var p=s.stack.split(`
`).filter(function(c){return!c.match(y)},this);return p.map(function(c){if(c.indexOf(" > eval")>-1&&(c=c.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),c.indexOf("@")===-1&&c.indexOf(":")===-1)return new n({functionName:c});var m=/((.*".+"[^@]*)?[^@]*)(?:@)/,w=c.match(m),f=w&&w[1]?w[1]:void 0,v=this.extractLocation(c.replace(m,""));return new n({functionName:f,fileName:v[0],lineNumber:v[1],columnNumber:v[2],source:c})},this)},parseOpera:function(s){return!s.stacktrace||s.message.indexOf(`
`)>-1&&s.message.split(`
`).length>s.stacktrace.split(`
`).length?this.parseOpera9(s):s.stack?this.parseOpera11(s):this.parseOpera10(s)},parseOpera9:function(s){for(var p=/Line (\d+).*script (?:in )?(\S+)/i,c=s.message.split(`
`),m=[],w=2,f=c.length;w<f;w+=2){var v=p.exec(c[w]);v&&m.push(new n({fileName:v[2],lineNumber:v[1],source:c[w]}))}return m},parseOpera10:function(s){for(var p=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=s.stacktrace.split(`
`),m=[],w=0,f=c.length;w<f;w+=2){var v=p.exec(c[w]);v&&m.push(new n({functionName:v[3]||void 0,fileName:v[2],lineNumber:v[1],source:c[w]}))}return m},parseOpera11:function(s){var p=s.stack.split(`
`).filter(function(c){return!!c.match(o)&&!c.match(/^Error created at/)},this);return p.map(function(c){var m=c.split("@"),w=this.extractLocation(m.pop()),f=m.shift()||"",v=f.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,d;f.match(/\(([^)]*)\)/)&&(d=f.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var b=d===void 0||d==="[arguments not available]"?void 0:d.split(",");return new n({functionName:v,args:b,fileName:w[0],lineNumber:w[1],columnNumber:w[2],source:c})},this)}}})})(Xe);var Ze=Xe.exports;let a={};a.noImageDecoding=!0;a.noAudioDecoding=!0;a.noWasmDecoding=!1;a.preloadedWasm={};a.preRun=[];let l={};a.API=l;let h={};a.hiwire=h;let me={};l.tests=me;function Nr(e,t,r){t&&(a.print=t),r&&(a.printErr=r),e&&a.preRun.push(function(){a.FS.init(Ir(e),null,null)})}function Ir(e){const t=new TextEncoder;let r=new Uint8Array(0),n=-1;function o(){try{if(n===-1){let i=e();if(i==null)return null;if(typeof i!="string")throw new TypeError(`Expected stdin to return string, null, or undefined, got type ${typeof i}.`);i.endsWith(`
`)||(i+=`
`),r=t.encode(i),n=0}if(n<r.length){let i=r[n];return n++,i}else return n=-1,null}catch(i){throw console.error("Error thrown in stdin:"),console.error(i),i}}return o}function Lr(e){a.preRun.push(function(){const t="/";try{a.FS.mkdirTree(e)}catch(r){console.error(`Error occurred while making a home directory '${e}':`),console.error(r),console.error(`Using '${t}' for a home directory instead`),e=t}a.ENV.HOME=e,a.FS.chdir(e)})}const oe=typeof process!="undefined"&&process.release&&process.release.name==="node"&&typeof process.browser=="undefined";let et,ge,tt,ve;async function jr(){!oe||(et=(await R(()=>import("./__vite-browser-external.2d3e1c2d.js").then(function(e){return e._}),[])).default,ve=await R(()=>import("./__vite-browser-external.2d3e1c2d.js").then(function(e){return e._}),[]),ge=(await R(()=>import("./index.18f484f5.js"),["assets/index.18f484f5.js","assets/__vite-browser-external.2d3e1c2d.js","assets/Editor.785434c5.js","assets/Editor.992bd898.css","assets/index.4094c5d8.js","assets/index.7b3aaf9c.css"])).default,tt=(await R(()=>import("./__vite-browser-external.2d3e1c2d.js").then(function(e){return e._}),[])).default)}async function Rr(e,t){if(t.includes("://")){let r=await ge(t);if(!r.ok)throw new Error(`Failed to load '${t}': request failed.`);return await r.arrayBuffer()}else{const r=await ve.readFile(`${e}${t}`);return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}}async function Br(e,t){const r=new URL(e,location),n=new URL(t,r);let o=await fetch(n);if(!o.ok)throw new Error(`Failed to load '${n}': request failed.`);return new Uint8Array(await o.arrayBuffer())}let ee;oe?ee=Rr:ee=Br;let X;if(globalThis.document)X=async e=>await R(()=>import(e),[]);else if(globalThis.importScripts)X=async e=>{try{globalThis.importScripts(e)}catch(t){if(t instanceof TypeError)await R(()=>import(e),[]);else throw t}};else if(oe)X=Mr;else throw new Error("Cannot determine runtime environment");async function Mr(e){e.includes("://")?tt.runInThisContext(await(await ge(e)).text()):await R(()=>import(et.resolve(e)),[])}function we(e){return!!e&&e.$$!==void 0&&e.$$.type==="PyProxy"}l.isPyProxy=we;globalThis.FinalizationRegistry?a.finalizationRegistry=new FinalizationRegistry(([e,t])=>{t.leaked=!0,rt(t);try{a._Py_DecRef(e)}catch(r){l.fatal_error(r)}}):a.finalizationRegistry={register(){},unregister(){}};let fe=new Map;a.pyproxy_alloc_map=fe;let be,Pe;a.enable_pyproxy_allocation_tracing=function(){be=function(e){fe.set(e,Error().stack)},Pe=function(e){fe.delete(e)}};a.disable_pyproxy_allocation_tracing=function(){be=function(e){},Pe=function(e){}};a.disable_pyproxy_allocation_tracing();a.pyproxy_new=function(e,t){let r=a._pyproxy_getflags(e),n=a.getPyProxyClass(r),o;r&1<<8?(o=Reflect.construct(Function,[],n),delete o.length,delete o.name,o.prototype=void 0):o=Object.create(n.prototype),t||(t={cacheId:h.new_value(new Map),refcnt:0}),t.refcnt++,Object.defineProperty(o,"$$",{value:{ptr:e,type:"PyProxy",cache:t}}),a._Py_IncRef(e);let i=new Proxy(o,Zr);return be(i),a.finalizationRegistry.register(i,[e,t],i),i};function F(e){let t=e.$$.ptr;if(t===0)throw new Error(e.$$.destroyed_msg);return t}let Me=new Map;a.getPyProxyClass=function(e){const t=[[1,Vr],[2,Hr],[4,Wr],[8,zr],[16,Qr],[32,Gr],[64,en],[128,rn],[256,nt]];let r=Me.get(e);if(r)return r;let n={};for(let[y,u]of t)e&y&&Object.assign(n,Object.getOwnPropertyDescriptors(u.prototype));n.constructor=Object.getOwnPropertyDescriptor(Ue.prototype,"constructor"),Object.assign(n,Object.getOwnPropertyDescriptors({$$flags:e}));let o=Object.create(Ue.prototype,n);function i(){}return i.prototype=o,Me.set(e,i),i};a.PyProxy_getPtr=F;const Ur="This borrowed attribute proxy was automatically destroyed in the process of destroying the proxy it was borrowed from. Try using the 'copy' method.";function rt(e){if(!!e&&(e.refcnt--,e.refcnt===0)){let t=h.pop_value(e.cacheId);for(let r of t.values()){const n=h.pop_value(r);e.leaked||a.pyproxy_destroy(n,Ur)}}}a.pyproxy_destroy=function(e,t){if(e.$$.ptr===0)return;let r=F(e);a.finalizationRegistry.unregister(e),t=t||"Object has already been destroyed";let n=e.type,o;try{o=e.toString()}catch(i){if(i.pyodide_fatal_error)throw i}e.$$.ptr=0,t+=`
The object was of type "${n}" and `,o?t+=`had repr "${o}"`:t+="an error was raised when trying to generate its repr",e.$$.destroyed_msg=t,rt(e.$$.cache);try{a._Py_DecRef(r),Pe(e)}catch(i){l.fatal_error(i)}};a.callPyObjectKwargs=function(e,...t){let r=t.pop(),n=t.length,o=Object.keys(r),i=Object.values(r),y=o.length;t.push(...i);let u=h.new_value(t),s=h.new_value(o),p;try{p=a.__pyproxy_apply(e,u,n,s,y)}catch(m){l.fatal_error(m)}finally{h.decref(u),h.decref(s)}p===0&&a._pythonexc2js();let c=h.pop_value(p);return c&&c.type==="coroutine"&&c._ensure_future&&c._ensure_future(),c};a.callPyObject=function(e,...t){return a.callPyObjectKwargs(e,...t,{})};class Ue{constructor(){O(this,"$$");O(this,"$$flags");throw new TypeError("PyProxy is not a constructor")}get[Symbol.toStringTag](){return"PyProxy"}get type(){let t=F(this);return h.pop_value(a.__pyproxy_type(t))}toString(){let t=F(this),r;try{r=a.__pyproxy_repr(t)}catch(n){l.fatal_error(n)}return r===0&&a._pythonexc2js(),h.pop_value(r)}destroy(t){a.pyproxy_destroy(this,t)}copy(){let t=F(this);return a.pyproxy_new(t,this.$$.cache)}toJs({depth:t=-1,pyproxies:r=void 0,create_pyproxies:n=!0,dict_converter:o=void 0,default_converter:i=void 0}={}){let y=F(this),u,s,p=0,c=0;n?r?s=h.new_value(r):s=h.new_value([]):s=0,o&&(p=h.new_value(o)),i&&(c=h.new_value(i));try{u=a._python2js_custom(y,t,s,p,c)}catch(m){l.fatal_error(m)}finally{h.decref(s),h.decref(p),h.decref(c)}return u===0&&a._pythonexc2js(),h.pop_value(u)}supportsLength(){return!!(this.$$flags&1<<0)}supportsGet(){return!!(this.$$flags&1<<1)}supportsSet(){return!!(this.$$flags&1<<2)}supportsHas(){return!!(this.$$flags&1<<3)}isIterable(){return!!(this.$$flags&(1<<4|1<<5))}isIterator(){return!!(this.$$flags&1<<5)}isAwaitable(){return!!(this.$$flags&1<<6)}isBuffer(){return!!(this.$$flags&1<<7)}isCallable(){return!!(this.$$flags&1<<8)}}class Vr{get length(){let t=F(this),r;try{r=a._PyObject_Size(t)}catch(n){l.fatal_error(n)}return r===-1&&a._pythonexc2js(),r}}class Hr{get(t){let r=F(this),n=h.new_value(t),o;try{o=a.__pyproxy_getitem(r,n)}catch(i){l.fatal_error(i)}finally{h.decref(n)}if(o===0)if(a._PyErr_Occurred())a._pythonexc2js();else return;return h.pop_value(o)}}class Wr{set(t,r){let n=F(this),o=h.new_value(t),i=h.new_value(r),y;try{y=a.__pyproxy_setitem(n,o,i)}catch(u){l.fatal_error(u)}finally{h.decref(o),h.decref(i)}y===-1&&a._pythonexc2js()}delete(t){let r=F(this),n=h.new_value(t),o;try{o=a.__pyproxy_delitem(r,n)}catch(i){l.fatal_error(i)}finally{h.decref(n)}o===-1&&a._pythonexc2js()}}class zr{has(t){let r=F(this),n=h.new_value(t),o;try{o=a.__pyproxy_contains(r,n)}catch(i){l.fatal_error(i)}finally{h.decref(n)}return o===-1&&a._pythonexc2js(),o===1}}function*qr(e,t){try{let r;for(;r=a.__pyproxy_iter_next(e);)yield h.pop_value(r)}catch(r){l.fatal_error(r)}finally{a.finalizationRegistry.unregister(t),a._Py_DecRef(e)}a._PyErr_Occurred()&&a._pythonexc2js()}class Qr{[Symbol.iterator](){let t=F(this),r={},n;try{n=a._PyObject_GetIter(t)}catch(i){l.fatal_error(i)}n===0&&a._pythonexc2js();let o=qr(n,r);return a.finalizationRegistry.register(o,[n,void 0],r),o}}class Gr{[Symbol.iterator](){return this}next(t=void 0){let r=h.new_value(t),n,o,i=a.stackSave(),y=a.stackAlloc(4);try{n=a.__pyproxyGen_Send(F(this),r,y)}catch(c){l.fatal_error(c)}finally{h.decref(r)}let s=a.HEAPU32[(y>>2)+0];a.stackRestore(i),n===-1&&a._pythonexc2js();let p=h.pop_value(s);return o=n===0,{done:o,value:p}}}function Jr(e,t){let r=F(e),n=h.new_value(t),o;try{o=a.__pyproxy_hasattr(r,n)}catch(i){l.fatal_error(i)}finally{h.decref(n)}return o===-1&&a._pythonexc2js(),o!==0}function Kr(e,t){let r=F(e),n=h.new_value(t),o,i=e.$$.cache.cacheId;try{o=a.__pyproxy_getattr(r,n,i)}catch(y){l.fatal_error(y)}finally{h.decref(n)}return o===0&&a._PyErr_Occurred()&&a._pythonexc2js(),o}function Xr(e,t,r){let n=F(e),o=h.new_value(t),i=h.new_value(r),y;try{y=a.__pyproxy_setattr(n,o,i)}catch(u){l.fatal_error(u)}finally{h.decref(o),h.decref(i)}y===-1&&a._pythonexc2js()}function Yr(e,t){let r=F(e),n=h.new_value(t),o;try{o=a.__pyproxy_delattr(r,n)}catch(i){l.fatal_error(i)}finally{h.decref(n)}o===-1&&a._pythonexc2js()}let Zr={isExtensible(){return!0},has(e,t){return Reflect.has(e,t)?!0:typeof t=="symbol"?!1:(t.startsWith("$")&&(t=t.slice(1)),Jr(e,t))},get(e,t){if(t in e||typeof t=="symbol")return Reflect.get(e,t);t.startsWith("$")&&(t=t.slice(1));let r=Kr(e,t);if(r!==0)return h.pop_value(r)},set(e,t,r){let n=Object.getOwnPropertyDescriptor(e,t);if(n&&!n.writable)throw new TypeError(`Cannot set read only field '${t}'`);return typeof t=="symbol"?Reflect.set(e,t,r):(t.startsWith("$")&&(t=t.slice(1)),Xr(e,t,r),!0)},deleteProperty(e,t){let r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.writable)throw new TypeError(`Cannot delete read only field '${t}'`);return typeof t=="symbol"?Reflect.deleteProperty(e,t):(t.startsWith("$")&&(t=t.slice(1)),Yr(e,t),!r||!!r.configurable)},ownKeys(e){let t=F(e),r;try{r=a.__pyproxy_ownKeys(t)}catch(o){l.fatal_error(o)}r===0&&a._pythonexc2js();let n=h.pop_value(r);return n.push(...Reflect.ownKeys(e)),n},apply(e,t,r){return e.apply(t,r)}};class en{constructor(){O(this,"$$")}_ensure_future(){if(this.$$.promise)return this.$$.promise;let t=F(this),r,n,o=new Promise((s,p)=>{r=s,n=p}),i=h.new_value(r),y=h.new_value(n),u;try{u=a.__pyproxy_ensure_future(t,i,y)}catch(s){l.fatal_error(s)}finally{h.decref(y),h.decref(i)}return u===-1&&a._pythonexc2js(),this.$$.promise=o,this.destroy(),o}then(t,r){return this._ensure_future().then(t,r)}catch(t){return this._ensure_future().catch(t)}finally(t){return this._ensure_future().finally(t)}}class nt{apply(t,r){return a.callPyObject(F(this),...r)}call(t,...r){return a.callPyObject(F(this),...r)}callKwargs(...t){if(t.length===0)throw new TypeError("callKwargs requires at least one argument (the key word argument object)");let r=t[t.length-1];if(r.constructor!==void 0&&r.constructor.name!=="Object")throw new TypeError("kwargs argument is not an object");return a.callPyObjectKwargs(F(this),...t)}}nt.prototype.prototype=Function.prototype;let tn=new Map([["i8",Int8Array],["u8",Uint8Array],["u8clamped",Uint8ClampedArray],["i16",Int16Array],["u16",Uint16Array],["i32",Int32Array],["u32",Uint32Array],["i32",Int32Array],["u32",Uint32Array],["i64",globalThis.BigInt64Array],["u64",globalThis.BigUint64Array],["f32",Float32Array],["f64",Float64Array],["dataview",DataView]]);class rn{getBuffer(t){let r;if(t&&(r=tn.get(t),r===void 0))throw new Error(`Unknown type ${t}`);let n=a.HEAPU32,o=a.stackSave(),i=a.stackAlloc(n[(a._buffer_struct_size>>2)+0]),y=F(this),u;try{u=a.__pyproxy_get_buffer(i,y)}catch($){l.fatal_error($)}u===-1&&a._pythonexc2js();let s=n[(i>>2)+0],p=n[(i>>2)+1],c=n[(i>>2)+2],m=!!n[(i>>2)+3],w=n[(i>>2)+4],f=n[(i>>2)+5],v=h.pop_value(n[(i>>2)+6]),d=h.pop_value(n[(i>>2)+7]),b=n[(i>>2)+8],D=!!n[(i>>2)+9],S=!!n[(i>>2)+10],C=a.UTF8ToString(w);a.stackRestore(o);let N=!1;try{let $=!1;r===void 0&&([r,$]=a.processBufferFormatString(C," In this case, you can pass an explicit type argument."));let _=parseInt(r.name.replace(/[^0-9]/g,""))/8||1;if($&&_>1)throw new Error("Javascript has no native support for big endian buffers. In this case, you can pass an explicit type argument. For instance, `getBuffer('dataview')` will return a `DataView`which has native support for reading big endian data. Alternatively, toJs will automatically convert the buffer to little endian.");let g=c-p;if(g!==0&&(s%_!==0||p%_!==0||c%_!==0))throw new Error(`Buffer does not have valid alignment for a ${r.name}`);let P=g/_,M=(s-p)/_,L;g===0?L=new r:L=new r(n.buffer,p,P);for(let q of d.keys())d[q]/=_;return N=!0,Object.create(ot.prototype,Object.getOwnPropertyDescriptors({offset:M,readonly:m,format:C,itemsize:f,ndim:v.length,nbytes:g,shape:v,strides:d,data:L,c_contiguous:D,f_contiguous:S,_view_ptr:b,_released:!1}))}finally{if(!N)try{a._PyBuffer_Release(b),a._PyMem_Free(b)}catch($){l.fatal_error($)}}}}class ot{constructor(){O(this,"offset");O(this,"readonly");O(this,"format");O(this,"itemsize");O(this,"ndim");O(this,"nbytes");O(this,"shape");O(this,"strides");O(this,"data");O(this,"c_contiguous");O(this,"f_contiguous");O(this,"_released");O(this,"_view_ptr");throw new TypeError("PyBuffer is not a constructor")}release(){if(!this._released){try{a._PyBuffer_Release(this._view_ptr),a._PyMem_Free(this._view_ptr)}catch(t){l.fatal_error(t)}this._released=!0,this.data=null}}}let at;async function nn(e){at=e;let t;if(oe){const r=await ve.readFile(`${e}packages.json`);t=JSON.parse(r)}else t=await(await fetch(`${e}packages.json`)).json();if(!t.packages)throw new Error("Loaded packages.json does not contain the expected key 'packages'.");l.packages=t.packages,l._import_name_to_package_name=new Map;for(let r of Object.keys(l.packages))for(let n of l.packages[r].imports)l._import_name_to_package_name.set(n,r)}const te="default channel",on=/^.*?([^\/]*)\.whl$/;function an(e){let t=on.exec(e);if(t)return t[1].toLowerCase().split("-").slice(0,-4).join("-")}function it(e,t,r){if(e=e.toLowerCase(),t.has(e))return;const n=l.packages[e];if(!n)throw new Error(`No known package with name '${e}'`);if(n.shared_library?r.set(e,te):t.set(e,te),I[e]===void 0)for(let o of n.depends)it(o,t,r)}function ln(e,t){const r=new Map,n=new Map;for(let o of e){const i=an(o);if(i===void 0){it(o,r,n);continue}if(r.has(i)&&r.get(i)!==o){t(`Loading same package ${i} from ${o} and ${r.get(i)}`);continue}r.set(i,o)}return[r,n]}async function Ve(e,t){let r;if(t===te){if(!(e in l.packages))throw new Error(`Internal error: no entry for package named ${e}`);r=l.packages[e].file_name}else r=t;return await ee(at,r)}async function He(e,t){let r=l.packages[e];r||(r={file_name:".whl",install_dir:"site",shared_library:!1,depends:[],imports:[]});const n=r.file_name,o=l.package_loader.unpack_buffer.callKwargs({buffer:t,filename:n,target:r.install_dir,calculate_dynlibs:!0});for(const i of o)await st(i,r.shared_library);I[e]=r}function lt(){let e=Promise.resolve();async function t(){const r=e;let n;return e=new Promise(o=>n=o),await r,n}return t}const sn=lt();async function st(e,t){const r=a.FS.lookupPath(e).node;let n;r.mount.type==a.FS.filesystems.MEMFS?n=a.FS.filesystems.MEMFS.getFileDataAsTypedArray(a.FS.lookupPath(e).node):n=a.FS.readFile(e);const o=await sn();try{const i=await a.loadWebAssemblyModule(n,{loadAsync:!0,nodelete:!0,allowUndefined:!0});a.preloadedWasm[e]=i,a.preloadedWasm[e.split("/").pop()]=i,t&&a.loadDynamicLibrary(e,{global:!0,nodelete:!0})}catch(i){if(i.message.includes("need to see wasm magic number")){console.warn(`Failed to load dynlib ${e}. We probably just tried to load a linux .so file or something.`);return}throw i}finally{o()}}me.loadDynlib=st;const un=lt();async function Ee(e,t,r){t=t||console.log,r=r||console.error,we(e)&&(e=e.toJs()),Array.isArray(e)||(e=[e]);const[n,o]=ln(e,r);for(const[u,s]of[...n,...o]){const p=I[u];p!==void 0&&(n.delete(u),o.delete(u),p===s||s===te?t(`${u} already loaded from ${p}`):r(`URI mismatch, attempting to load package ${u} from ${s} while it is already loaded from ${p}. To override a dependency, load the custom package first.`))}if(n.size===0&&o.size===0){t("No new packages to load");return}const i=[...n.keys(),...o.keys()].join(", "),y=await un();try{t(`Loading ${i}`);const u={},s={};for(const[f,v]of o){if(I[f]){o.delete(f);continue}u[f]=Ve(f,v)}for(const[f,v]of n){if(I[f]){n.delete(f);continue}s[f]=Ve(f,v)}const p=[],c={},m={},w={};for(const[f,v]of o)m[f]=u[f].then(async d=>{await He(f,d),p.push(f),I[f]=v}).catch(d=>{console.warn(d),c[f]=d});await Promise.all(Object.values(m));for(const[f,v]of n)w[f]=s[f].then(async d=>{await He(f,d),p.push(f),I[f]=v}).catch(d=>{console.warn(d),c[f]=d});if(await Promise.all(Object.values(w)),a.reportUndefinedSymbols(),p.length>0){const f=p.join(", ");t(`Loaded ${f}`)}if(Object.keys(c).length>0){const f=Object.keys(c).join(", ");t(`Failed to load ${f}`);for(const[v,d]of Object.entries(c))console.warn(`The following error occurred while loading ${v}:`),console.error(d)}l.importlib.invalidate_caches()}finally{y()}}let I={};l.dump_traceback=function(){a.__Py_DumpTraceback(1,a._PyGILState_GetThisThreadState())};function ut(e){if(typeof e=="string")e=new Error(e);else if(typeof e!="object"||e===null||typeof e.stack!="string"||typeof e.message!="string"){let t=`A value of type ${typeof e} with tag ${Object.prototype.toString.call(e)} was thrown as an error!`;try{t+=`
String interpolation of the thrown value gives """${e}""".`}catch{t+=`
String interpolation of the thrown value fails.`}try{t+=`
The thrown value's toString method returns """${e.toString()}""".`}catch{t+=`
The thrown value's toString method fails.`}e=new Error(t)}return e}let We=!1;l.fatal_error=function(e){if(!(e&&e.pyodide_fatal_error)){if(We){console.error("Recursive call to fatal_error. Inner error was:"),console.error(e);return}typeof e=="number"?e=dt(e):e=ut(e),e.pyodide_fatal_error=!0,We=!0,console.error("Pyodide has suffered a fatal error. Please report this to the Pyodide maintainers."),console.error("The cause of the fatal error was:"),l.inTestHoist?(console.error(e.toString()),console.error(e.stack)):console.error(e);try{l.dump_traceback();for(let t of Object.keys(l.public_api))t.startsWith("_")||t==="version"||Object.defineProperty(l.public_api,t,{enumerable:!0,configurable:!0,get:()=>{throw new Error("Pyodide already fatally failed and can no longer be used.")}});l.on_fatal&&l.on_fatal(e)}catch(t){console.error("Another error occurred while handling the fatal error:"),console.error(t)}throw e}};class ct extends Error{constructor(r,n){super(n);O(this,"ty");this.ty=r}}Object.defineProperty(ct.prototype,"name",{get(){return`${this.constructor.name} ${this.ty}`}});function cn(e){const t=a._exc_type(),n=new a.ExceptionInfo(e).get_type(),o=a.stackSave(),i=a.stackAlloc(4);a.HEAP32[i/4]=e;const y=a.demangle(a.UTF8ToString(a._exc_typename(n))),u=!!a.___cxa_can_catch(t,n,i),s=a.HEAP32[i/4];return a.stackRestore(o),[y,u,s]}function dt(e){const[t,r,n]=cn(e);let o;if(r){const i=a._exc_what(n);o=a.UTF8ToString(i)}else o=`The exception is an object of type ${t} at address ${e} which does not inherit from std::exception`;return new ct(t,o)}me.convertCppException=dt;function pe(e){const t=e.fileName||"";if(t.includes("pyodide.asm")||t.includes("wasm-function"))return!0;if(!t.includes("pyodide.js"))return!1;let r=e.functionName||"";return r.startsWith("Object.")&&(r=r.slice(7)),r in l.public_api&&r!=="PythonError"?(e.functionName=r,!1):!0}function dn(e){if(!pe(e))return!1;const t=e.functionName;return t==="PythonError"||t==="new_error"}a.handle_js_error=function(e){if(e&&e.pyodide_fatal_error)throw e;if(e instanceof a._PropagatePythonError)return;let t=!1;e instanceof l.PythonError&&(t=a._restore_sys_last_exception(e.__error_address));let r,n;try{r=Ze.parse(e)}catch{n=!0}if(n&&(e=ut(e)),!t){let o=h.new_value(e),i=a._JsProxy_create(o);a._set_error(i),a._Py_DecRef(i),h.decref(o)}if(!n){if(dn(r[0]))for(;pe(r[0]);)r.shift();for(const o of r){if(pe(o))break;const i=a.stringToNewUTF8(o.functionName||"???"),y=a.stringToNewUTF8(o.fileName||"???.js");a.__PyTraceback_Add(i,y,o.lineNumber),a._free(i),a._free(y)}}};class re extends Error{constructor(r,n){const o=Error.stackTraceLimit;Error.stackTraceLimit=1/0;super(r);O(this,"__error_address");Error.stackTraceLimit=o,this.__error_address=n}}Object.defineProperty(re.prototype,"name",{value:re.name});l.PythonError=re;class _e extends Error{constructor(){l.fail_test=!0,super("If you are seeing this message, an internal Pyodide error has occurred. Please report it to the Pyodide maintainers.")}}Object.defineProperty(_e.prototype,"name",{value:_e.name});a._PropagatePythonError=_e;let fn,pn,_n="",ne=!1;function ft(e,t={}){return l.isPyProxy(t)&&(t={globals:t},ne||(console.warn("Passing a PyProxy as the second argument to runPython is deprecated and will be removed in v0.21. Use 'runPython(code, {globals : some_dict})' instead."),ne=!0)),t.globals||(t.globals=l.globals),l.pyodide_py.eval_code(e,t.globals)}l.runPython=ft;async function yn(e,t,r){let n=l.pyodide_py.find_imports(e),o;try{o=n.toJs()}finally{n.destroy()}if(o.length===0)return;let i=l._import_name_to_package_name,y=new Set;for(let u of o)i.has(u)&&y.add(i.get(u));y.size&&await Ee(Array.from(y),t,r)}async function pt(e,t={}){return l.isPyProxy(t)&&(t={globals:t},ne||(console.warn("Passing a PyProxy as the second argument to runPythonAsync is deprecated and will be removed in v0.21. Use 'runPythonAsync(code, {globals : some_dict})' instead."),ne=!0)),t.globals||(t.globals=l.globals),await l.pyodide_py.eval_code_async(e,t.globals)}l.runPythonAsync=pt;function hn(e,t){l.pyodide_py.register_js_module(e,t)}function mn(e){l._Comlink=e}function gn(e){l.pyodide_py.unregister_js_module(e)}function vn(e,{depth:t,defaultConverter:r}={depth:-1}){switch(typeof e){case"string":case"number":case"boolean":case"bigint":case"undefined":return e}if(!e||l.isPyProxy(e))return e;let n=0,o=0,i=0;try{n=h.new_value(e);try{o=a.js2python_convert(n,{depth:t,defaultConverter:r})}catch(y){throw y instanceof a._PropagatePythonError&&a._pythonexc2js(),y}if(a._JsProxy_Check(o))return e;i=a._python2js(o),i===0&&a._pythonexc2js()}finally{h.decref(n),a._Py_DecRef(o)}return h.pop_value(i)}function wn(e){return l.importlib.import_module(e)}let ze=!1;function bn(e,t,r={}){typeof r=="string"&&(ze||(console.warn("Passing a string as the third argument to unpackArchive is deprecated and will be removed in v0.21. Instead use { extract_dir : 'some_path' }"),ze=!0),r={extractDir:r});let n=r.extractDir;l.package_loader.unpack_buffer.callKwargs({buffer:e,format:t,extract_dir:n})}l.saveState=()=>l.pyodide_py._state.save_state();l.restoreState=e=>l.pyodide_py._state.restore_state(e);function Pn(e){a.HEAP8[a._Py_EMSCRIPTEN_SIGNAL_HANDLING]=!!e,a.Py_EmscriptenSignalBuffer=e}function En(){a.__PyErr_CheckSignals()&&a._pythonexc2js()}let qe;function Fn(){qe=a.FS;let e={globals:pn,FS:qe,pyodide_py:fn,version:_n,loadPackage:Ee,loadPackagesFromImports:yn,loadedPackages:I,isPyProxy:we,runPython:ft,runPythonAsync:pt,registerJsModule:hn,unregisterJsModule:gn,setInterruptBuffer:Pn,checkInterrupt:En,toPy:vn,pyimport:wn,unpackArchive:bn,registerComlink:mn,PythonError:re,PyBuffer:ot,_module:a,_api:l};return l.public_api=e,e}let _t;l.runPythonInternal=function(e){return l._pyodide._base.eval_code(e,_t)};function xn(e,t){return new Proxy(e,{get(r,n){return n==="get"?o=>{let i=r.get(o);return i===void 0&&(i=t.get(o)),i}:n==="has"?o=>r.has(o)||t.has(o):Reflect.get(r,n)}})}function On(e){const t="/pyodide_py.tar";let r=a.FS.open(t,"w");a.FS.write(r,e,0,e.byteLength,void 0,!0),a.FS.close(r);const n=a.stringToNewUTF8(`
from sys import version_info
pyversion = f"python{version_info.major}.{version_info.minor}"
import shutil
shutil.unpack_archive("/pyodide_py.tar", f"/lib/{pyversion}/site-packages/")
del shutil
import importlib
importlib.invalidate_caches()
del importlib
    `);if(a._PyRun_SimpleString(n))throw new Error("OOPS!");a._free(n),a.FS.unlink(t)}function An(e){_t=l._pyodide._base.eval_code("{}"),l.importlib=l.runPythonInternal("import importlib; importlib");let t=l.importlib.import_module;l.sys=t("sys"),l.sys.path.insert(0,e.homedir);let r=l.runPythonInternal("import __main__; __main__.__dict__"),n=l.runPythonInternal("import builtins; builtins.__dict__");l.globals=xn(r,n);let o=l._pyodide._importhook;o.register_js_finder(),o.register_js_module("js",e.jsglobals);let i=Fn();return o.register_js_module("pyodide_js",i),l.pyodide_py=t("pyodide"),l.package_loader=t("pyodide._package_loader"),l.version=l.pyodide_py.__version__,i.pyodide_py=l.pyodide_py,i.version=l.version,i.globals=l.globals,i}function kn(){let e;try{throw new Error}catch(r){e=r}const t=Ze.parse(e)[0].fileName;return t.slice(0,t.lastIndexOf("/"))}async function ye(e={}){if(ye.inProgress)throw new Error("Pyodide is already loading.");e.indexURL||(e.indexURL=kn()),ye.inProgress=!0;const t={fullStdLib:!0,jsglobals:globalThis,stdin:globalThis.prompt?globalThis.prompt:void 0,homedir:"/home/pyodide"};let r=Object.assign(t,e);r.indexURL.endsWith("/")||(r.indexURL+="/"),await jr();let n=nn(r.indexURL),o=ee(r.indexURL,"pyodide_py.tar");Nr(r.stdin,r.stdout,r.stderr),Lr(r.homedir);let i=new Promise(p=>a.postRun=p);a.locateFile=p=>r.indexURL+p;const y=`${r.indexURL}pyodide.asm.js`;await X(y),await _createPyodideModule(a),await i,a.locateFile=p=>{throw new Error("Didn't expect to load any more file_packager files!")};const u=await o;On(u),a._pyodide_init();let s=An(r);return await n,r.fullStdLib&&await Ee(["distutils"]),s.runPython("print('Python initialization complete')"),s}const Sn=x("link",{rel:"stylesheet",href:"https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css"},null,-1),$n={class:"col-12 row justify-center q-gutter-x-sm",style:{height:"90%"}},Dn={class:"col-5 q-gutter-y-sm",style:{height:"100%"}},Tn={class:"col-12 row q-gutter-x-md items-center"},Cn=B("\u5982\u679C\u4E0D\u52FE\u9009\uFF0C\u5219\u65E0\u6CD5\u6B63\u5E38\u4F7F\u7528 matplotlib \u7684\u7ED8\u56FE\u529F\u80FD\u3002\u5982\u679C\u52FE\u9009\uFF0C\u5219\u4F1A\u4F7F\u5E94\u7528\u64CD\u4F5C\u7684\u6D41\u7545\u5EA6\u964D\u4F4E\u3002"),Nn=x("br",null,null,-1),In=B("\u52FE\u9009\u540E\u9700"),Ln=x("b",null,"\u91CD\u8F7D\u9875\u9762",-1),jn=B("\u624D\u80FD\u751F\u6548"),Rn={class:"col-12 row q-gutter-x-md items-center"},Bn={class:"text col-shirk"},Mn=x("div",{class:"text-h6"},"\u63D0\u9192",-1),Un=x("p",null,"\u8BE5\u529F\u80FD\u9700\u8981\u91CD\u65B0\u52A0\u8F7D\u9875\u9762\u624D\u80FD\u751F\u6548\u3002\u8BF7\u590D\u5236\u597D\u4F60\u7684\u4EE3\u7801\uFF0C\u7136\u540E\u91CD\u65B0\u52A0\u8F7D\u9875\u9762\u3002",-1),Vn=x("div",{class:"text-h6"},"\u5B9E\u73B0\u539F\u7406",-1),Hn=x("p",null,"\u672C\u5E94\u7528\u4F7F\u7528\u4E86 Pyodide \u5E93\u5B9E\u73B0\u4E86 Python \u7684\u5728\u7EBF\u8FD0\u884C\uFF0CPyodide \u662F\u4E00\u4E2A\u57FA\u4E8E WebAssembly \u7684 JavaScript \u5E93\uFF0C\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u4E2D\u8FD0\u884C Python \u4EE3\u7801\u3002",-1),Wn=x("p",null,"\u503C\u5F97\u6CE8\u610F\u7684\u662F\uFF0C\u53D7\u9650\u4E8E wasm\uFF0C\u8FD9\u91CC\u7684\u6027\u80FD\u901A\u5E38\u4F1A\u6BD4\u539F\u751F\u6162 2~16 \u500D\u4E0D\u6B62\u3002",-1),zn=x("div",{class:"text-h6"},"\u652F\u6301\u7684\u5305",-1),qn=x("p",null,[B("\u5F53\u524D\u4EC5\u652F\u6301 Python \u6807\u51C6\u5E93\u7684\u90E8\u5206\u5305\u4E0E"),x("a",{href:"https://pyodide.org/en/stable/usage/packages-in-pyodide.html#packages-in-pyodide",target:"_blank"},"\u90E8\u5206\u5E38\u7528\u7684\u7B2C\u4E09\u65B9\u5305"),B("\u3002")],-1),Qn=x("div",{class:"text-h6"},"\u6CE8\u610F\u4E8B\u9879",-1),Gn=B("\u7531\u4E8E\u6682\u65F6\u6CA1\u6709\u52A0\u5165\u672C\u5730\u7F13\u5B58\u529F\u80FD\u7684\u8BA1\u5212\uFF0C\u6BCF\u6B21\u4F7F\u7528\u8BE5\u5E94\u7528\u65F6\uFF0C\u6240\u6709\u6A21\u5757\u6781\u6709\u53EF\u80FD\u90FD\u8981\u91CD\u65B0\u52A0\u8F7D\u3002\u4F7F\u7528\u65F6\uFF0C\u8BF7\u6CE8\u610F\u6D41\u91CF\u63A7\u5236\u3002"),Jn=["innerHTML"],Kn=x("div",{class:"text-h6 col-12"},"\u4ECE PyPI \u52A0\u8F7D\u6A21\u5757",-1),Xn=x("div",{class:"text-caption col-12"},"\u5FC5\u987B\u662F\u7EAF Python \u6A21\u5757\uFF0C\u4E0D\u652F\u6301 C/C++ \u6A21\u5757\u3002",-1),so=jt({name:"python_online",setup(e){const t="python_online_",r=T(void 0);let n;const o=T("\u521D\u59CB\u5316\u4E2D...");function i(_,g,P){return _.runPythonAsync(g,P)}const y=`
for i in plt.get_fignums():
  plt.clf()
`,u=T(`import pandas as pd
import matplotlib.pyplot as plt
from js import fetch

csv = await(
  await fetch(
    "https://raw.githubusercontent.com/pandas-dev/pandas/main/doc/data/air_quality_no2.csv"
  )
).text()
with open("air_quality_no2.csv", "w") as f:
  f.write(csv)

df = pd.read_csv("air_quality_no2.csv")
df.plot()

before_show() # \u5185\u7F6E\u65B9\u6CD5\uFF0C\u5FC5\u987B plt.show \u4E4B\u524D\u8C03\u7528\uFF0C\u5426\u5219\u56FE\u8868\u4E0D\u4F1A\u663E\u793A
plt.show()
`),s=T(!0),p=T("");function c(){if(!n)return;r.value&&(r.value.innerHTML="");const _=u.value;s.value=!0,o.value="\u89E3\u6790\u6A21\u5757\u5BFC\u5165",n.loadPackagesFromImports(_,g=>{o.value=g.replaceAll("Loading ","\u52A0\u8F7D\u6A21\u5757\uFF1A")},g=>{o.value=g}).then(async()=>{if(!(!n||!r.value)){o.value="\u8FD0\u884C\u4E2D",m.value&&n.runPython(y);try{await i(n,_,{before_show:m.value}),o.value=""}catch(g){r.value.innerHTML="<code><pre style='color: red'>"+String(g)+"</pre></code>",o.value="\u8FD0\u884C\u51FA\u9519\u4E86"}s.value=!1}})}Rt(async()=>{r.value||console.error("Program output container not found"),n=await $()});const m=Cr(t+"matplotlib_draw_function",!1);W(m,_=>{_&&(w.value=!0)});const w=T(!1),f=T(!1),v=T(!1),d=T(!1),b=T("");function D(){!n||(d.value=!0,v.value=!0,n.runPythonAsync(`import micropip
str(micropip.list())
`).then(_=>{d.value=!1,b.value=_}))}const S=T(!1);function C(){S.value=!0}function N(){!n||(S.value=!1,s.value=!0,o.value="\u52A0\u8F7D\u6A21\u5757\uFF1A"+p.value,n.runPythonAsync(`import micropip
await micropip.install("${p.value}")
`).then(()=>{o.value=""}).catch(_=>{r.value.innerHTML="<code><pre style='color: red'>"+String(_)+"</pre></code>",o.value="\u6A21\u5757\u52A0\u8F7D\u5931\u8D25"}).finally(()=>{s.value=!1,p.value=""}))}async function $(){let _;const g=`
from matplotlib.figure import Figure
from matplotlib.backend_bases import FigureCanvasBase
from js import document, console
import matplotlib.pyplot as plt

def get_render_element(self):
  el = document.createElement('div')
  pr = document.getElementById('out')
  pr.appendChild(el)
  return el

def before_show():
  for i in plt.get_fignums():
    f = plt.figure(i)
    f.canvas.create_root_element = get_render_element.__get__(
      get_render_element, f.canvas.__class__
    )
`;return _=await ye({indexURL:"https://pyodide-cdn2.iodide.io/v0.20.0/full/",stdout:P=>{P!=="Python initialization complete"&&(r.value.innerHTML+="<p>"+P+"</p>")}}),await _.loadPackage("micropip",P=>{o.value=P.replaceAll("Loading ","\u52A0\u8F7D\u6A21\u5757\uFF1A")}),m.value&&(await _.loadPackagesFromImports(g,P=>{o.value=P.replaceAll("Loading ","\u52A0\u8F7D\u6A21\u5757\uFF1A")}),o.value="\u52A0\u8F7D matplotlib \u7ED8\u5236\u529F\u80FD...",await _.runPythonAsync(g)),o.value="",s.value=!1,_}return addEventListener("unload",_=>"\u6570\u636E\u4E0D\u4F1A\u88AB\u4FDD\u5B58\uFF0C\u4F60\u786E\u5B9A\u8981\u79BB\u5F00\u5417\uFF1F"),(_,g)=>(Mt(),Bt(sr,{class:"row justify-center items-center",style:{height:"100vh"}},{default:k(()=>[Sn,x("div",$n,[E(ur,{class:"col-5",modelValue:u.value,"onUpdate:modelValue":g[0]||(g[0]=P=>u.value=P),language:"python",theme:"vs-dark"},null,8,["modelValue"]),x("div",Dn,[x("div",Tn,[E(ar,{modelValue:he(m),"onUpdate:modelValue":g[1]||(g[1]=P=>Ut(m)?m.value=P:null),label:"matplotlib \u7ED8\u5236\u529F\u80FD"},{default:k(()=>[E(cr,{style:{"font-size":".9rem"}},{default:k(()=>[Cn,Nn,In,Ln,jn]),_:1})]),_:1},8,["modelValue"]),E(H,{label:"\u5E2E\u52A9",onClick:g[2]||(g[2]=P=>f.value=!0)}),E(H,{label:"\u6A21\u5757\u5217\u8868",onClick:g[3]||(g[3]=P=>D()),disable:s.value},null,8,["disable"]),E(H,{label:"\u5B89\u88C5\u6A21\u5757",onClick:g[4]||(g[4]=P=>C()),disable:s.value},null,8,["disable"])]),x("div",Rn,[E(H,{class:"col-shirk",label:"\u8FD0\u884C",onClick:c,loading:s.value,color:"primary"},null,8,["loading"]),x("div",Bn,Vt(o.value),1)]),x("div",{class:"col-12",id:"out",style:{border:"solid .5px","box-sizing":"border-box",padding:"1rem","max-height":"80%","overflow-y":"auto"},ref_key:"program_out_el",ref:r},null,512)])]),E(G,{modelValue:w.value,"onUpdate:modelValue":g[5]||(g[5]=P=>w.value=P)},{default:k(()=>[E(J,null,{default:k(()=>[E(K,null,{default:k(()=>[Mn,Un]),_:1})]),_:1})]),_:1},8,["modelValue"]),E(G,{modelValue:f.value,"onUpdate:modelValue":g[6]||(g[6]=P=>f.value=P)},{default:k(()=>[E(J,null,{default:k(()=>[E(K,null,{default:k(()=>[Vn,Hn,Wn,zn,qn,Qn,E(nr,null,{default:k(()=>[E(or,null,{default:k(()=>[Gn]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),E(G,{modelValue:v.value,"onUpdate:modelValue":g[7]||(g[7]=P=>v.value=P)},{default:k(()=>[E(J,null,{default:k(()=>[E(K,null,{default:k(()=>[E(lr,{showing:d.value,label:"\u6B63\u5728\u52A0\u8F7D\u5DF2\u5B89\u88C5\u6A21\u5757\u5217\u8868..."},null,8,["showing"]),x("code",null,[x("pre",{innerHTML:b.value},null,8,Jn)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),E(G,{modelValue:S.value,"onUpdate:modelValue":g[10]||(g[10]=P=>S.value=P)},{default:k(()=>[E(J,null,{default:k(()=>[E(K,{class:"row q-gutter-x-md"},{default:k(()=>[Kn,Xn,E(ir,{class:"col-grow",label:"",modelValue:p.value,"onUpdate:modelValue":g[8]||(g[8]=P=>p.value=P)},null,8,["modelValue"]),E(H,{class:"col-shirk",label:"\u52A0\u8F7D",onClick:g[9]||(g[9]=P=>N())})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{so as default};
